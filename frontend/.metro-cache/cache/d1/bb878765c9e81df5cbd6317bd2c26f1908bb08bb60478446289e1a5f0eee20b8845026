{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../addEventListener","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":181},"end":{"line":10,"column":55,"index":236}}],"key":"4xvCwHsxCKw+bkXrhCHsTztm4zw=","exportNames":["*"]}},{"name":"../canUseDom","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":237},"end":{"line":11,"column":37,"index":274}}],"key":"NAgv5vx4h/J1uxoLSWxqZG/Z81Y=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.addModalityListener=function(t){return y.add(t),()=>{y.delete(t)}},e.getActiveModality=function(){return l},e.getModality=function(){return s},e.testOnly_resetActiveModality=function(){v=!1,l=f,s=f};var n,o,u=r(d[1]),c=t(r(d[2])),l='keyboard',s='keyboard',v=!1,y=new Set,f='keyboard',p='mouse',E='touch',L='contextmenu',w='mousedown',h='mousemove',b='mouseup',M='pointerdown',T='pointermove',_='scroll',k='selectionchange',K='touchcancel',A='touchmove',O='touchstart',P={passive:!0},S={capture:!0,passive:!0};function j(){null==n&&null==o||(null!=n&&(s=n,n=null),null!=o&&(l=o,o=null),q())}function x(t){var n=t.type;if('undefined'!=typeof window&&null!=window.PointerEvent){if(n===M)return void(l!==t.pointerType&&(s=t.pointerType,l=t.pointerType,q()));if(n===T)return void(s!==t.pointerType&&(s=t.pointerType,q()))}else{if(v||(n===w&&l!==p&&(s=p,l=p,q()),n===h&&s!==p&&(s=p,q())),n===O)return v=!0,t.touches&&t.touches.length>1&&(v=!1),void(l!==E&&(s=E,l=E,q()));n!==L&&n!==b&&n!==k&&n!==_&&n!==K&&n!==A||(v=!1)}}function q(){var t={activeModality:l,modality:s};y.forEach(n=>{n(t)})}c.default&&((0,u.addEventListener)(window,'blur',function(){n=s,o=l,l=f,s=f,q(),v=!1},P),(0,u.addEventListener)(window,'focus',function(){j()},P),(0,u.addEventListener)(document,'keydown',function(t){t.metaKey||t.altKey||t.ctrlKey||s!==f&&(s=f,l=f,q())},S),(0,u.addEventListener)(document,'visibilitychange',function(){'hidden'!==document.visibilityState&&j()},S),(0,u.addEventListener)(document,M,x,S),(0,u.addEventListener)(document,T,x,S),(0,u.addEventListener)(document,L,x,S),(0,u.addEventListener)(document,w,x,S),(0,u.addEventListener)(document,h,x,S),(0,u.addEventListener)(document,b,x,S),(0,u.addEventListener)(document,K,x,S),(0,u.addEventListener)(document,A,x,S),(0,u.addEventListener)(document,O,x,S),(0,u.addEventListener)(document,k,x,S),(0,u.addEventListener)(document,_,x,S))});","lineCount":1,"map":[[1,113,178,7],[1,122,178,36,"listener"],[1,125,180,2],[1,132,179,2,"listeners"],[1,134,179,12,"add"],[1,138,179,16,"listener"],[1,141,180,9],[1,146,181,4,"listeners"],[1,148,181,14,"delete"],[1,155,181,21,"listener"],[1,158,183,0],[1,160],[1,180,172,7],[1,191,173,2],[1,198,173,9,"activeModality"],[1,199,174,0],[1,201],[1,215,175,7],[1,226,176,2],[1,233,176,9,"modality"],[1,234,177,0],[1,236],[1,267,184,7],[1,278,185,2,"isEmulatingMouseEvents"],[1,281,185,27],[1,283,186,2,"activeModality"],[1,285,186,19,"KEYBOARD"],[1,287,187,2,"modality"],[1,289,187,13,"KEYBOARD"],[1,290,188,0],[1,292,10,0],[1,296,15,4,"previousModality"],[1,298,16,4,"previousActiveModality"],[1,300,10,0,"_addEventListener"],[1,302,10,0,"r"],[1,304,10,0,"d"],[1,306,10,0],[1,310,11,0,"_canUseDom"],[1,312,11,0,"_interopRequireDefault"],[1,314,11,0,"r"],[1,316,11,0,"d"],[1,318,11,0],[1,323,13,4,"activeModality"],[1,325,13,21],[1,336,14,4,"modality"],[1,338,14,15],[1,349,17,4,"isEmulatingMouseEvents"],[1,352,17,29],[1,354,18,4,"listeners"],[1,356,18,16],[1,360,18,20,"Set"],[1,364,19,4,"KEYBOARD"],[1,366,19,15],[1,377,20,4,"MOUSE"],[1,379,20,12],[1,387,21,4,"TOUCH"],[1,389,21,12],[1,397,23,4,"CONTEXTMENU"],[1,399,23,18],[1,413,26,4,"MOUSEDOWN"],[1,415,26,16],[1,427,27,4,"MOUSEMOVE"],[1,429,27,16],[1,441,28,4,"MOUSEUP"],[1,443,28,14],[1,453,29,4,"POINTERDOWN"],[1,455,29,18],[1,469,30,4,"POINTERMOVE"],[1,471,30,18],[1,485,31,4,"SCROLL"],[1,487,31,13],[1,496,32,4,"SELECTIONCHANGE"],[1,498,32,22],[1,516,33,4,"TOUCHCANCEL"],[1,518,33,18],[1,532,34,4,"TOUCHMOVE"],[1,534,34,16],[1,546,35,4,"TOUCHSTART"],[1,548,35,17],[1,561,37,4,"bubbleOptions"],[1,563,37,20],[1,564,38,2,"passive"],[1,573,38,11],[1,576,40,4,"captureOptions"],[1,578,40,21],[1,579,41,2,"capture"],[1,588,41,11],[1,590,42,2,"passive"],[1,599,42,11],[1,602,44,0],[1,611,44,9,"restoreModality"],[1,615,45,26],[1,621,45,6,"previousModality"],[1,624,45,60],[1,630,45,34,"previousActiveModality"],[1,634,46,28],[1,640,46,8,"previousModality"],[1,644,47,6,"modality"],[1,646,47,17,"previousModality"],[1,648,48,6,"previousModality"],[1,650,48,25],[1,656,50,34],[1,662,50,8,"previousActiveModality"],[1,666,51,6,"activeModality"],[1,668,51,23,"previousActiveModality"],[1,670,52,6,"previousActiveModality"],[1,672,52,31],[1,678,54,4,"callListeners"],[1,682,56,0],[1,683,84,0],[1,692,84,9,"onPointerish"],[1,694,84,22,"event"],[1,697,85,2],[1,701,85,6,"eventType"],[1,703,85,18,"event"],[1,705,85,24,"type"],[1,710,86,2],[1,713,12,54],[1,733,12,43,"window"],[1,741,12,92],[1,747,12,69,"window"],[1,754,12,76,"PointerEvent"],[1,767,86,30],[1,768,87,4],[1,771,87,8,"eventType"],[1,775,87,22,"POINTERDOWN"],[1,777,93,6],[1,789,88,10,"activeModality"],[1,793,88,29,"event"],[1,795,88,35,"pointerType"],[1,809,89,8,"modality"],[1,811,89,19,"event"],[1,813,89,25,"pointerType"],[1,825,90,8,"activeModality"],[1,827,90,25,"event"],[1,829,90,31,"pointerType"],[1,841,91,8,"callListeners"],[1,847,95,4],[1,850,95,8,"eventType"],[1,854,95,22,"POINTERMOVE"],[1,856,100,6],[1,868,96,10,"modality"],[1,872,96,23,"event"],[1,874,96,29,"pointerType"],[1,888,97,8,"modality"],[1,890,97,19,"event"],[1,892,97,25,"pointerType"],[1,904,98,8,"callListeners"],[1,909,102,2],[1,914,104,7],[1,915,122,4],[1,918,105,9,"isEmulatingMouseEvents"],[1,922,106,10,"eventType"],[1,926,106,24,"MOUSEDOWN"],[1,929,107,12,"activeModality"],[1,933,107,31,"MOUSE"],[1,937,108,10,"modality"],[1,939,108,21,"MOUSE"],[1,941,109,10,"activeModality"],[1,943,109,27,"MOUSE"],[1,945,110,10,"callListeners"],[1,950,113,10,"eventType"],[1,954,113,24,"MOUSEMOVE"],[1,957,114,12,"modality"],[1,961,114,25,"MOUSE"],[1,965,115,10,"modality"],[1,967,115,21,"MOUSE"],[1,969,116,10,"callListeners"],[1,975,122,8,"eventType"],[1,979,122,22,"TOUCHSTART"],[1,981,132,6],[1,988,123,6,"isEmulatingMouseEvents"],[1,991,123,31],[1,993,124,10,"event"],[1,995,124,16,"touches"],[1,1004,124,27,"event"],[1,1006,124,33,"touches"],[1,1014,124,41,"length"],[1,1021,124,50],[1,1025,125,8,"isEmulatingMouseEvents"],[1,1028,125,33],[1,1036,127,10,"activeModality"],[1,1040,127,29,"TOUCH"],[1,1044,128,8,"modality"],[1,1046,128,19,"TOUCH"],[1,1048,129,8,"activeModality"],[1,1050,129,25,"TOUCH"],[1,1052,130,8,"callListeners"],[1,1058,137,8,"eventType"],[1,1062,137,22,"CONTEXTMENU"],[1,1065,137,37,"eventType"],[1,1069,137,51,"MOUSEUP"],[1,1072,137,62,"eventType"],[1,1076,137,76,"SELECTIONCHANGE"],[1,1079,137,95,"eventType"],[1,1083,137,109,"SCROLL"],[1,1086,137,119,"eventType"],[1,1090,137,133,"TOUCHCANCEL"],[1,1093,137,148,"eventType"],[1,1097,137,162,"TOUCHMOVE"],[1,1101,138,6,"isEmulatingMouseEvents"],[1,1104,138,31],[1,1106,140,2],[1,1107,141,0],[1,1108,163,0],[1,1117,163,9,"callListeners"],[1,1121,164,2],[1,1125,164,6,"value"],[1,1127,164,14],[1,1128,165,4,"activeModality"],[1,1145,166,4,"modality"],[1,1157,168,2,"listeners"],[1,1159,168,12,"forEach"],[1,1167,168,20,"listener"],[1,1171,169,4,"listener"],[1,1173,169,13,"value"],[1,1177,171,0],[1,1178,142,4,"canUseDOM"],[1,1191,144,2],[1,1193,144,2,"addEventListener"],[1,1213,144,19,"window"],[1,1220,22,11],[1,1227,57,0],[1,1238,58,2,"previousModality"],[1,1240,58,21,"modality"],[1,1242,59,2,"previousActiveModality"],[1,1244,59,27,"activeModality"],[1,1246,60,2,"activeModality"],[1,1248,60,19,"KEYBOARD"],[1,1250,61,2,"modality"],[1,1252,61,13,"KEYBOARD"],[1,1254,62,2,"callListeners"],[1,1258,64,2,"isEmulatingMouseEvents"],[1,1261,64,27],[1,1262,65,0],[1,1264,144,47,"bubbleOptions"],[1,1268,145,2],[1,1270,145,2,"addEventListener"],[1,1290,145,19,"window"],[1,1297,24,12],[1,1305,66,0],[1,1316,67,2,"restoreModality"],[1,1319,68,0],[1,1321,145,49,"bubbleOptions"],[1,1325,148,2],[1,1327,148,2,"addEventListener"],[1,1347,148,19,"document"],[1,1356,25,14],[1,1366,69,0],[1,1375,69,19,"event"],[1,1378,70,6,"event"],[1,1380,70,12,"metaKey"],[1,1389,70,23,"event"],[1,1391,70,29,"altKey"],[1,1399,70,39,"event"],[1,1401,70,45,"ctrlKey"],[1,1410,73,6,"modality"],[1,1414,73,19,"KEYBOARD"],[1,1418,74,4,"modality"],[1,1420,74,15,"KEYBOARD"],[1,1422,75,4,"activeModality"],[1,1424,75,21,"KEYBOARD"],[1,1426,76,4,"callListeners"],[1,1430,78,0],[1,1432,148,49,"captureOptions"],[1,1436,149,2],[1,1438,149,2,"addEventListener"],[1,1458,149,19,"document"],[1,1467,36,23],[1,1486,79,0],[1,1497,80,35],[1,1508,80,6,"document"],[1,1517,80,15,"visibilityState"],[1,1534,81,4,"restoreModality"],[1,1537,83,0],[1,1539,149,67,"captureOptions"],[1,1543,150,2],[1,1545,150,2,"addEventListener"],[1,1565,150,19,"document"],[1,1574,150,29,"POINTERDOWN"],[1,1576,150,42,"onPointerish"],[1,1578,150,56,"captureOptions"],[1,1582,151,2],[1,1584,151,2,"addEventListener"],[1,1604,151,19,"document"],[1,1613,151,29,"POINTERMOVE"],[1,1615,151,42,"onPointerish"],[1,1617,151,56,"captureOptions"],[1,1621,153,2],[1,1623,153,2,"addEventListener"],[1,1643,153,19,"document"],[1,1652,153,29,"CONTEXTMENU"],[1,1654,153,42,"onPointerish"],[1,1656,153,56,"captureOptions"],[1,1660,154,2],[1,1662,154,2,"addEventListener"],[1,1682,154,19,"document"],[1,1691,154,29,"MOUSEDOWN"],[1,1693,154,40,"onPointerish"],[1,1695,154,54,"captureOptions"],[1,1699,155,2],[1,1701,155,2,"addEventListener"],[1,1721,155,19,"document"],[1,1730,155,29,"MOUSEMOVE"],[1,1732,155,40,"onPointerish"],[1,1734,155,54,"captureOptions"],[1,1738,156,2],[1,1740,156,2,"addEventListener"],[1,1760,156,19,"document"],[1,1769,156,29,"MOUSEUP"],[1,1771,156,38,"onPointerish"],[1,1773,156,52,"captureOptions"],[1,1777,157,2],[1,1779,157,2,"addEventListener"],[1,1799,157,19,"document"],[1,1808,157,29,"TOUCHCANCEL"],[1,1810,157,42,"onPointerish"],[1,1812,157,56,"captureOptions"],[1,1816,158,2],[1,1818,158,2,"addEventListener"],[1,1838,158,19,"document"],[1,1847,158,29,"TOUCHMOVE"],[1,1849,158,40,"onPointerish"],[1,1851,158,54,"captureOptions"],[1,1855,159,2],[1,1857,159,2,"addEventListener"],[1,1877,159,19,"document"],[1,1886,159,29,"TOUCHSTART"],[1,1888,159,41,"onPointerish"],[1,1890,159,55,"captureOptions"],[1,1894,160,2],[1,1896,160,2,"addEventListener"],[1,1916,160,19,"document"],[1,1925,160,29,"SELECTIONCHANGE"],[1,1927,160,46,"onPointerish"],[1,1929,160,60,"captureOptions"],[1,1933,161,2],[1,1935,161,2,"addEventListener"],[1,1955,161,19,"document"],[1,1964,161,29,"SCROLL"],[1,1966,161,37,"onPointerish"],[1,1968,161,51,"captureOptions"],[1,1971,188,1],[1,1974]],"functionMap":{"names":["<global>","supportsPointerEvent","restoreModality","onBlurWindow","onFocusWindow","onKeyDown","onVisibilityChange","onPointerish","callListeners","listeners.forEach$argument_0","getActiveModality","getModality","addModalityListener","<anonymous>","testOnly_resetActiveModality"],"mappings":"AAA;2BCW,sED;AEgC;CFY;AGC;CHQ;AIC;CJE;AKC;CLS;AMC;CNI;AOC;CPyD;AQsB;oBCK;GDE;CRC;OUC;CVE;OWC;CXE;OYC;SCE;GDE;CZC;OcC"}},"type":"js/module"}]}