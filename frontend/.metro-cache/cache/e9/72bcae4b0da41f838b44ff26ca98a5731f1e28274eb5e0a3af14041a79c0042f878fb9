{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"]}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOptionsGetters = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _NavigationBuilderContext = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContext = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  function useOptionsGetters({\n    key,\n    options,\n    navigation\n  }) {\n    const optionsRef = React.useRef(options);\n    const optionsGettersFromChildRef = React.useRef({});\n    const {\n      onOptionsChange\n    } = React.useContext(_NavigationBuilderContext.NavigationBuilderContext);\n    const {\n      addOptionsGetter: parentAddOptionsGetter\n    } = React.useContext(_NavigationStateContext.NavigationStateContext);\n    const optionsChangeListener = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      const hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    const getOptionsFromListener = React.useCallback(() => {\n      for (const key in optionsGettersFromChildRef.current) {\n        if (key in optionsGettersFromChildRef.current) {\n          const result = optionsGettersFromChildRef.current[key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    const getCurrentOptions = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      const optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    const addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":78,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useOptionsGetters"],[7,27,1,13],[7,30,1,13,"useOptionsGetters"],[7,47,1,13],[8,2,3,0],[8,6,3,0,"React"],[8,11,3,0],[8,14,3,0,"_interopRequireWildcard"],[8,37,3,0],[8,38,3,0,"require"],[8,45,3,0],[8,46,3,0,"_dependencyMap"],[8,60,3,0],[9,2,4,0],[9,6,4,0,"_NavigationBuilderContext"],[9,31,4,0],[9,34,4,0,"require"],[9,41,4,0],[9,42,4,0,"_dependencyMap"],[9,56,4,0],[10,2,5,0],[10,6,5,0,"_NavigationStateContext"],[10,29,5,0],[10,32,5,0,"require"],[10,39,5,0],[10,40,5,0,"_dependencyMap"],[10,54,5,0],[11,2,5,69],[11,11,5,69,"_interopRequireWildcard"],[11,35,5,69,"e"],[11,36,5,69],[11,38,5,69,"t"],[11,39,5,69],[11,68,5,69,"WeakMap"],[11,75,5,69],[11,81,5,69,"r"],[11,82,5,69],[11,89,5,69,"WeakMap"],[11,96,5,69],[11,100,5,69,"n"],[11,101,5,69],[11,108,5,69,"WeakMap"],[11,115,5,69],[11,127,5,69,"_interopRequireWildcard"],[11,150,5,69],[11,162,5,69,"_interopRequireWildcard"],[11,163,5,69,"e"],[11,164,5,69],[11,166,5,69,"t"],[11,167,5,69],[11,176,5,69,"t"],[11,177,5,69],[11,181,5,69,"e"],[11,182,5,69],[11,186,5,69,"e"],[11,187,5,69],[11,188,5,69,"__esModule"],[11,198,5,69],[11,207,5,69,"e"],[11,208,5,69],[11,214,5,69,"o"],[11,215,5,69],[11,217,5,69,"i"],[11,218,5,69],[11,220,5,69,"f"],[11,221,5,69],[11,226,5,69,"__proto__"],[11,235,5,69],[11,243,5,69,"default"],[11,250,5,69],[11,252,5,69,"e"],[11,253,5,69],[11,270,5,69,"e"],[11,271,5,69],[11,294,5,69,"e"],[11,295,5,69],[11,320,5,69,"e"],[11,321,5,69],[11,330,5,69,"f"],[11,331,5,69],[11,337,5,69,"o"],[11,338,5,69],[11,341,5,69,"t"],[11,342,5,69],[11,345,5,69,"n"],[11,346,5,69],[11,349,5,69,"r"],[11,350,5,69],[11,358,5,69,"o"],[11,359,5,69],[11,360,5,69,"has"],[11,363,5,69],[11,364,5,69,"e"],[11,365,5,69],[11,375,5,69,"o"],[11,376,5,69],[11,377,5,69,"get"],[11,380,5,69],[11,381,5,69,"e"],[11,382,5,69],[11,385,5,69,"o"],[11,386,5,69],[11,387,5,69,"set"],[11,390,5,69],[11,391,5,69,"e"],[11,392,5,69],[11,394,5,69,"f"],[11,395,5,69],[11,411,5,69,"t"],[11,412,5,69],[11,416,5,69,"e"],[11,417,5,69],[11,433,5,69,"t"],[11,434,5,69],[11,441,5,69,"hasOwnProperty"],[11,455,5,69],[11,456,5,69,"call"],[11,460,5,69],[11,461,5,69,"e"],[11,462,5,69],[11,464,5,69,"t"],[11,465,5,69],[11,472,5,69,"i"],[11,473,5,69],[11,477,5,69,"o"],[11,478,5,69],[11,481,5,69,"Object"],[11,487,5,69],[11,488,5,69,"defineProperty"],[11,502,5,69],[11,507,5,69,"Object"],[11,513,5,69],[11,514,5,69,"getOwnPropertyDescriptor"],[11,538,5,69],[11,539,5,69,"e"],[11,540,5,69],[11,542,5,69,"t"],[11,543,5,69],[11,550,5,69,"i"],[11,551,5,69],[11,552,5,69,"get"],[11,555,5,69],[11,559,5,69,"i"],[11,560,5,69],[11,561,5,69,"set"],[11,564,5,69],[11,568,5,69,"o"],[11,569,5,69],[11,570,5,69,"f"],[11,571,5,69],[11,573,5,69,"t"],[11,574,5,69],[11,576,5,69,"i"],[11,577,5,69],[11,581,5,69,"f"],[11,582,5,69],[11,583,5,69,"t"],[11,584,5,69],[11,588,5,69,"e"],[11,589,5,69],[11,590,5,69,"t"],[11,591,5,69],[11,602,5,69,"f"],[11,603,5,69],[11,608,5,69,"e"],[11,609,5,69],[11,611,5,69,"t"],[11,612,5,69],[12,2,6,7],[12,11,6,16,"useOptionsGetters"],[12,28,6,33,"useOptionsGetters"],[12,29,6,34],[13,4,7,2,"key"],[13,7,7,5],[14,4,8,2,"options"],[14,11,8,9],[15,4,9,2,"navigation"],[16,2,10,0],[16,3,10,1],[16,5,10,3],[17,4,11,2],[17,10,11,8,"optionsRef"],[17,20,11,18],[17,23,11,21,"React"],[17,28,11,26],[17,29,11,27,"useRef"],[17,35,11,33],[17,36,11,34,"options"],[17,43,11,41],[17,44,11,42],[18,4,12,2],[18,10,12,8,"optionsGettersFromChildRef"],[18,36,12,34],[18,39,12,37,"React"],[18,44,12,42],[18,45,12,43,"useRef"],[18,51,12,49],[18,52,12,50],[18,53,12,51],[18,54,12,52],[18,55,12,53],[19,4,13,2],[19,10,13,8],[20,6,14,4,"onOptionsChange"],[21,4,15,2],[21,5,15,3],[21,8,15,6,"React"],[21,13,15,11],[21,14,15,12,"useContext"],[21,24,15,22],[21,25,15,23,"NavigationBuilderContext"],[21,75,15,47],[21,76,15,48],[22,4,16,2],[22,10,16,8],[23,6,17,4,"addOptionsGetter"],[23,22,17,20],[23,24,17,22,"parentAddOptionsGetter"],[24,4,18,2],[24,5,18,3],[24,8,18,6,"React"],[24,13,18,11],[24,14,18,12,"useContext"],[24,24,18,22],[24,25,18,23,"NavigationStateContext"],[24,71,18,45],[24,72,18,46],[25,4,19,2],[25,10,19,8,"optionsChangeListener"],[25,31,19,29],[25,34,19,32,"React"],[25,39,19,37],[25,40,19,38,"useCallback"],[25,51,19,49],[25,52,19,50],[25,58,19,56],[26,6,20,4],[26,12,20,10,"isFocused"],[26,21,20,19],[26,24,20,22,"navigation"],[26,34,20,32],[26,36,20,34,"isFocused"],[26,45,20,43],[26,46,20,44],[26,47,20,45],[26,51,20,49],[26,55,20,53],[27,6,21,4],[27,12,21,10,"hasChildren"],[27,23,21,21],[27,26,21,24,"Object"],[27,32,21,30],[27,33,21,31,"keys"],[27,37,21,35],[27,38,21,36,"optionsGettersFromChildRef"],[27,64,21,62],[27,65,21,63,"current"],[27,72,21,70],[27,73,21,71],[27,74,21,72,"length"],[27,80,21,78],[28,6,22,4],[28,10,22,8,"isFocused"],[28,19,22,17],[28,23,22,21],[28,24,22,22,"hasChildren"],[28,35,22,33],[28,37,22,35],[29,8,23,6,"onOptionsChange"],[29,23,23,21],[29,24,23,22,"optionsRef"],[29,34,23,32],[29,35,23,33,"current"],[29,42,23,40],[29,46,23,44],[29,47,23,45],[29,48,23,46],[29,49,23,47],[30,6,24,4],[31,4,25,2],[31,5,25,3],[31,7,25,5],[31,8,25,6,"navigation"],[31,18,25,16],[31,20,25,18,"onOptionsChange"],[31,35,25,33],[31,36,25,34],[31,37,25,35],[32,4,26,2,"React"],[32,9,26,7],[32,10,26,8,"useEffect"],[32,19,26,17],[32,20,26,18],[32,26,26,24],[33,6,27,4,"optionsRef"],[33,16,27,14],[33,17,27,15,"current"],[33,24,27,22],[33,27,27,25,"options"],[33,34,27,32],[34,6,28,4,"optionsChangeListener"],[34,27,28,25],[34,28,28,26],[34,29,28,27],[35,6,29,4],[35,13,29,11,"navigation"],[35,23,29,21],[35,25,29,23,"addListener"],[35,36,29,34],[35,37,29,35],[35,44,29,42],[35,46,29,44,"optionsChangeListener"],[35,67,29,65],[35,68,29,66],[36,4,30,2],[36,5,30,3],[36,7,30,5],[36,8,30,6,"navigation"],[36,18,30,16],[36,20,30,18,"options"],[36,27,30,25],[36,29,30,27,"optionsChangeListener"],[36,50,30,48],[36,51,30,49],[36,52,30,50],[37,4,31,2],[37,10,31,8,"getOptionsFromListener"],[37,32,31,30],[37,35,31,33,"React"],[37,40,31,38],[37,41,31,39,"useCallback"],[37,52,31,50],[37,53,31,51],[37,59,31,57],[38,6,32,4],[38,11,32,9],[38,17,32,15,"key"],[38,20,32,18],[38,24,32,22,"optionsGettersFromChildRef"],[38,50,32,48],[38,51,32,49,"current"],[38,58,32,56],[38,60,32,58],[39,8,33,6],[39,12,33,10,"key"],[39,15,33,13],[39,19,33,17,"optionsGettersFromChildRef"],[39,45,33,43],[39,46,33,44,"current"],[39,53,33,51],[39,55,33,53],[40,10,34,8],[40,16,34,14,"result"],[40,22,34,20],[40,25,34,23,"optionsGettersFromChildRef"],[40,51,34,49],[40,52,34,50,"current"],[40,59,34,57],[40,60,34,58,"key"],[40,63,34,61],[40,64,34,62],[40,67,34,65],[40,68,34,66],[42,10,36,8],[43,10,37,8],[43,14,37,12,"result"],[43,20,37,18],[43,25,37,23],[43,29,37,27],[43,31,37,29],[44,12,38,10],[44,19,38,17,"result"],[44,25,38,23],[45,10,39,8],[46,8,40,6],[47,6,41,4],[48,6,42,4],[48,13,42,11],[48,17,42,15],[49,4,43,2],[49,5,43,3],[49,7,43,5],[49,9,43,7],[49,10,43,8],[50,4,44,2],[50,10,44,8,"getCurrentOptions"],[50,27,44,25],[50,30,44,28,"React"],[50,35,44,33],[50,36,44,34,"useCallback"],[50,47,44,45],[50,48,44,46],[50,54,44,52],[51,6,45,4],[51,12,45,10,"isFocused"],[51,21,45,19],[51,24,45,22,"navigation"],[51,34,45,32],[51,36,45,34,"isFocused"],[51,45,45,43],[51,46,45,44],[51,47,45,45],[51,51,45,49],[51,55,45,53],[52,6,46,4],[52,10,46,8],[52,11,46,9,"isFocused"],[52,20,46,18],[52,22,46,20],[53,8,47,6],[53,15,47,13],[53,19,47,17],[54,6,48,4],[55,6,49,4],[55,12,49,10,"optionsFromListener"],[55,31,49,29],[55,34,49,32,"getOptionsFromListener"],[55,56,49,54],[55,57,49,55],[55,58,49,56],[56,6,50,4],[56,10,50,8,"optionsFromListener"],[56,29,50,27],[56,34,50,32],[56,38,50,36],[56,40,50,38],[57,8,51,6],[57,15,51,13,"optionsFromListener"],[57,34,51,32],[58,6,52,4],[59,6,53,4],[59,13,53,11,"optionsRef"],[59,23,53,21],[59,24,53,22,"current"],[59,31,53,29],[60,4,54,2],[60,5,54,3],[60,7,54,5],[60,8,54,6,"navigation"],[60,18,54,16],[60,20,54,18,"getOptionsFromListener"],[60,42,54,40],[60,43,54,41],[60,44,54,42],[61,4,55,2,"React"],[61,9,55,7],[61,10,55,8,"useEffect"],[61,19,55,17],[61,20,55,18],[61,26,55,24],[62,6,56,4],[62,13,56,11,"parentAddOptionsGetter"],[62,35,56,33],[62,38,56,36,"key"],[62,41,56,39],[62,43,56,41,"getCurrentOptions"],[62,60,56,58],[62,61,56,59],[63,4,57,2],[63,5,57,3],[63,7,57,5],[63,8,57,6,"getCurrentOptions"],[63,25,57,23],[63,27,57,25,"parentAddOptionsGetter"],[63,49,57,47],[63,51,57,49,"key"],[63,54,57,52],[63,55,57,53],[63,56,57,54],[64,4,58,2],[64,10,58,8,"addOptionsGetter"],[64,26,58,24],[64,29,58,27,"React"],[64,34,58,32],[64,35,58,33,"useCallback"],[64,46,58,44],[64,47,58,45],[64,48,58,46,"key"],[64,51,58,49],[64,53,58,51,"getter"],[64,59,58,57],[64,64,58,62],[65,6,59,4,"optionsGettersFromChildRef"],[65,32,59,30],[65,33,59,31,"current"],[65,40,59,38],[65,41,59,39,"key"],[65,44,59,42],[65,45,59,43],[65,48,59,46,"getter"],[65,54,59,52],[66,6,60,4,"optionsChangeListener"],[66,27,60,25],[66,28,60,26],[66,29,60,27],[67,6,61,4],[67,13,61,11],[67,19,61,17],[68,8,62,6],[69,8,63,6],[69,15,63,13,"optionsGettersFromChildRef"],[69,41,63,39],[69,42,63,40,"current"],[69,49,63,47],[69,50,63,48,"key"],[69,53,63,51],[69,54,63,52],[70,8,64,6,"optionsChangeListener"],[70,29,64,27],[70,30,64,28],[70,31,64,29],[71,6,65,4],[71,7,65,5],[72,4,66,2],[72,5,66,3],[72,7,66,5],[72,8,66,6,"optionsChangeListener"],[72,29,66,27],[72,30,66,28],[72,31,66,29],[73,4,67,2],[73,11,67,9],[74,6,68,4,"addOptionsGetter"],[74,22,68,20],[75,6,69,4,"getCurrentOptions"],[76,4,70,2],[76,5,70,3],[77,2,71,0],[78,0,71,1],[78,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}