{"dependencies":[],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=_e.ImageUriCache=void 0;var e=/^data:/;class t{static has(n){var o=t._entries;return e.test(n)||Boolean(o[n])}static add(e){var n=t._entries,o=Date.now();n[e]?(n[e].lastUsedTimestamp=o,n[e].refCount+=1):n[e]={lastUsedTimestamp:o,refCount:1}}static remove(e){var n=t._entries;n[e]&&(n[e].refCount-=1),t._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,n,o=t._entries,s=Object.keys(o);s.length+1>t._maximumEntries&&(s.forEach(t=>{var s=o[t];(!n||s.lastUsedTimestamp<n.lastUsedTimestamp)&&0===s.refCount&&(e=t,n=s)}),e&&delete o[e])}}_e.ImageUriCache=t,t._maximumEntries=256,t._entries={};var n=0,o={},s={abort(e){var t=o[\"\"+e];t&&(t.onerror=null,t.onload=null,t=null,delete o[\"\"+e])},getSize(e,t,n){var l=!1,c=setInterval(v,16),u=s.load(e,v,function(){'function'==typeof n&&n();s.abort(u),clearInterval(c)});function v(){var e=o[\"\"+u];if(e){var n=e.naturalHeight,v=e.naturalWidth;n&&v&&(t(v,n),l=!0)}l&&(s.abort(u),clearInterval(c))}},has:e=>t.has(e),load(e,t,s){n+=1;var l=new window.Image;return l.onerror=s,l.onload=e=>{var n=()=>t({nativeEvent:e});'function'==typeof l.decode?l.decode().then(n,n):setTimeout(n,0)},l.src=e,o[\"\"+n]=l,n},prefetch:e=>new Promise((n,o)=>{s.load(e,()=>{t.add(e),t.remove(e),n()},o)}),queryCache(e){var n={};return e.forEach(e=>{t.has(e)&&(n[e]='disk/memory')}),Promise.resolve(n)}};_e.default=s});","lineCount":1,"map":[[1,114,10,0],[1,118,10,4,"dataUriPattern"],[1,120,10,21],[1,129,11,7],[1,135,11,13,"ImageUriCache"],[1,137,12,2],[1,147,12,9,"has"],[1,148,12,13,"uri"],[1,151,13,4],[1,155,13,8,"entries"],[1,157,13,18,"ImageUriCache"],[1,159,13,32,"_entries"],[1,168,15,4],[1,175,14,20,"dataUriPattern"],[1,177,14,35,"test"],[1,182,14,40,"uri"],[1,186,15,24,"Boolean"],[1,194,15,32,"entries"],[1,196,15,40,"uri"],[1,199,16,2],[1,200,17,2],[1,210,17,9,"add"],[1,211,17,13,"uri"],[1,214,18,4],[1,218,18,8,"entries"],[1,220,18,18,"ImageUriCache"],[1,222,18,32,"_entries"],[1,231,19,8,"lastUsedTimestamp"],[1,233,19,28,"Date"],[1,238,19,33,"now"],[1,244,20,8,"entries"],[1,246,20,16,"uri"],[1,250,21,6,"entries"],[1,252,21,14,"uri"],[1,255,21,19,"lastUsedTimestamp"],[1,273,21,39,"lastUsedTimestamp"],[1,275,22,6,"entries"],[1,277,22,14,"uri"],[1,280,22,19,"refCount"],[1,290,22,31],[1,293,24,6,"entries"],[1,295,24,14,"uri"],[1,298,24,21],[1,299,25,8,"lastUsedTimestamp"],[1,319,26,8,"refCount"],[1,328,26,18],[1,330,29,2],[1,331,30,2],[1,344,30,9,"remove"],[1,345,30,16,"uri"],[1,348,31,4],[1,352,31,8,"entries"],[1,354,31,18,"ImageUriCache"],[1,356,31,32,"_entries"],[1,365,32,8,"entries"],[1,367,32,16,"uri"],[1,372,33,6,"entries"],[1,374,33,14,"uri"],[1,377,33,19,"refCount"],[1,387,33,31],[1,390,36,4,"ImageUriCache"],[1,392,36,18,"_cleanUpIfNeeded"],[1,410,37,2],[1,411,38,2],[1,434,38,9,"_cleanUpIfNeeded"],[1,437,39,4],[1,441,42,10,"leastRecentlyUsedKey"],[1,443,43,10,"leastRecentlyUsedEntry"],[1,445,39,8,"entries"],[1,447,39,18,"ImageUriCache"],[1,449,39,32,"_entries"],[1,458,40,8,"imageUris"],[1,460,40,20,"Object"],[1,467,40,27,"keys"],[1,472,40,32,"entries"],[1,475,41,8,"imageUris"],[1,477,41,18,"length"],[1,484,41,27],[1,486,41,31,"ImageUriCache"],[1,488,41,45,"_maximumEntries"],[1,506,44,6,"imageUris"],[1,508,44,16,"forEach"],[1,516,44,24,"uri"],[1,520,45,8],[1,524,45,12,"entry"],[1,526,45,20,"entries"],[1,528,45,28,"uri"],[1,533,46,14,"leastRecentlyUsedEntry"],[1,536,46,40,"entry"],[1,538,46,46,"lastUsedTimestamp"],[1,556,46,66,"leastRecentlyUsedEntry"],[1,558,46,89,"lastUsedTimestamp"],[1,578,46,130],[1,582,46,111,"entry"],[1,584,46,117,"refCount"],[1,595,47,10,"leastRecentlyUsedKey"],[1,597,47,33,"uri"],[1,599,48,10,"leastRecentlyUsedEntry"],[1,601,48,35,"entry"],[1,606,51,10,"leastRecentlyUsedKey"],[1,616,52,15,"entries"],[1,618,52,23,"leastRecentlyUsedKey"],[1,621,55,2],[1,623,56,1,"_e"],[1,626,56,1,"ImageUriCache"],[1,642,57,0,"ImageUriCache"],[1,644,57,14,"_maximumEntries"],[1,660,57,32],[1,664,58,0,"ImageUriCache"],[1,666,58,14,"_entries"],[1,675,58,25],[1,676,58,26],[1,678,59,0],[1,682,59,4,"id"],[1,684,59,9],[1,686,60,4,"requests"],[1,688,60,15],[1,689,60,16],[1,691,61,4,"ImageLoader"],[1,693,61,18],[1,694,62,2,"abort"],[1,700,62,8,"requestId"],[1,703,63,4],[1,707,63,8,"image"],[1,709,63,16,"requests"],[1,711,63,25],[1,714,63,30,"requestId"],[1,717,64,8,"image"],[1,721,65,6,"image"],[1,723,65,12,"onerror"],[1,731,65,22],[1,736,66,6,"image"],[1,738,66,12,"onload"],[1,745,66,21],[1,750,67,6,"image"],[1,752,67,14],[1,764,68,13,"requests"],[1,766,68,22],[1,769,68,27,"requestId"],[1,772,70,2],[1,774,71,2,"getSize"],[1,782,71,10,"uri"],[1,784,71,15,"success"],[1,786,71,24,"failure"],[1,789,72,4],[1,793,72,8,"complete"],[1,796,72,19],[1,798,73,8,"interval"],[1,800,73,19,"setInterval"],[1,812,73,31,"callback"],[1,814,73,41],[1,818,74,8,"requestId"],[1,820,74,20,"ImageLoader"],[1,822,74,32,"load"],[1,827,74,37,"uri"],[1,829,74,42,"callback"],[1,831,90,4],[1,842,91,29],[1,861,91,17,"failure"],[1,864,92,8,"failure"],[1,868,94,6,"ImageLoader"],[1,870,94,18,"abort"],[1,876,94,24,"requestId"],[1,879,95,6,"clearInterval"],[1,893,95,20,"interval"],[1,895,96,4],[1,898,75,4],[1,907,75,13,"callback"],[1,911,76,6],[1,915,76,10,"image"],[1,917,76,18,"requests"],[1,919,76,27],[1,922,76,32,"requestId"],[1,925,77,6],[1,928,77,10,"image"],[1,930,77,17],[1,931,78,8],[1,935,78,12,"naturalHeight"],[1,937,78,28,"image"],[1,939,78,34,"naturalHeight"],[1,953,79,10,"naturalWidth"],[1,955,79,25,"image"],[1,957,79,31,"naturalWidth"],[1,970,80,12,"naturalHeight"],[1,973,80,29,"naturalWidth"],[1,977,81,10,"success"],[1,979,81,18,"naturalWidth"],[1,981,81,32,"naturalHeight"],[1,984,82,10,"complete"],[1,987,82,21],[1,989,84,6],[1,990,85,10,"complete"],[1,994,86,8,"ImageLoader"],[1,996,86,20,"abort"],[1,1002,86,26,"requestId"],[1,1005,87,8,"clearInterval"],[1,1019,87,22,"interval"],[1,1022,89,4],[1,1023,97,2],[1,1025,98,2,"has"],[1,1029,98,6,"uri"],[1,1032,99,11,"ImageUriCache"],[1,1034,99,25,"has"],[1,1038,99,29,"uri"],[1,1041,101,2,"load"],[1,1046,101,7,"uri"],[1,1048,101,12,"onLoad"],[1,1050,101,20,"onError"],[1,1053,102,4,"id"],[1,1056,102,10],[1,1058,103,4],[1,1062,103,8,"image"],[1,1064,103,16],[1,1068,103,20,"window"],[1,1075,103,27,"Image"],[1,1081,121,4],[1,1088,104,4,"image"],[1,1090,104,10,"onerror"],[1,1098,104,20,"onError"],[1,1100,105,4,"image"],[1,1102,105,10,"onload"],[1,1109,105,19,"e"],[1,1113,107,6],[1,1117,107,10,"onDecode"],[1,1119,107,21,"onDecode"],[1,1123,107,27,"onLoad"],[1,1125,107,34],[1,1126,108,8,"nativeEvent"],[1,1138,108,21,"e"],[1,1142,110,34],[1,1161,110,17,"image"],[1,1163,110,23,"decode"],[1,1170,114,8,"image"],[1,1172,114,14,"decode"],[1,1181,114,23,"then"],[1,1186,114,28,"onDecode"],[1,1188,114,38,"onDecode"],[1,1191,116,8,"setTimeout"],[1,1202,116,19,"onDecode"],[1,1204,116,29],[1,1208,119,4,"image"],[1,1210,119,10,"src"],[1,1214,119,16,"uri"],[1,1216,120,4,"requests"],[1,1218,120,13],[1,1221,120,18,"id"],[1,1224,120,24,"image"],[1,1226,121,11,"id"],[1,1227,122,2],[1,1229,123,2,"prefetch"],[1,1238,123,11,"uri"],[1,1241,124,11],[1,1245,124,15,"Promise"],[1,1253,124,23],[1,1254,124,24,"resolve"],[1,1256,124,33,"reject"],[1,1261,125,6,"ImageLoader"],[1,1263,125,18,"load"],[1,1268,125,23,"uri"],[1,1270,125,28],[1,1275,128,8,"ImageUriCache"],[1,1277,128,22,"add"],[1,1281,128,26,"uri"],[1,1284,129,8,"ImageUriCache"],[1,1286,129,22,"remove"],[1,1293,129,29,"uri"],[1,1296,130,8,"resolve"],[1,1301,131,9,"reject"],[1,1306,134,2,"queryCache"],[1,1317,134,13,"uris"],[1,1320,135,4],[1,1324,135,8,"result"],[1,1326,135,17],[1,1327,135,18],[1,1329,141,4],[1,1336,136,4,"uris"],[1,1338,136,9,"forEach"],[1,1346,136,17,"u"],[1,1350,137,10,"ImageUriCache"],[1,1352,137,24,"has"],[1,1356,137,28,"u"],[1,1361,138,8,"result"],[1,1363,138,15,"u"],[1,1366,138,20],[1,1383,141,11,"Promise"],[1,1391,141,19,"resolve"],[1,1399,141,27,"result"],[1,1401,142,2],[1,1404,143,2,"_e"],[1,1407,143,2,"default"],[1,1415,144,15,"ImageLoader"],[1,1416,144,26],[1,1419]],"functionMap":{"names":["<global>","ImageUriCache","ImageUriCache.has","ImageUriCache.add","ImageUriCache.remove","ImageUriCache._cleanUpIfNeeded","imageUris.forEach$argument_0","ImageLoader.abort","ImageLoader.getSize","callback","errorCallback","ImageLoader.has","ImageLoader.load","image.onload","onDecode","ImageLoader.prefetch","Promise$argument_0","ImageLoader.load$argument_1","ImageLoader.queryCache","uris.forEach$argument_0"],"mappings":"AAA;OCU;ECC;GDI;EEC;GFY;EGC;GHO;EIC;wBCM;ODM;GJK;CDC;EOM;GPQ;EQC;ICI;KDc;IEC;KFM;GRC;EWC;GXE;EYC;mBCI;qBCE;QDE;KDS;GZI;EeC;uBCC;4BCC;ODM;KDC;GfC;EkBC;iBCE;KDI;GlBE"}},"type":"js/module"}]}