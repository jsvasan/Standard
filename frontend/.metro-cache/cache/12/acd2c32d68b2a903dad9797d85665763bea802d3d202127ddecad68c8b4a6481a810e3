{"dependencies":[{"name":"./Animation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":225},"end":{"line":13,"column":36,"index":261}}],"key":"IpfQWRKePvRqyvs8Q+vGFqyieVw=","exportNames":["*"],"imports":1}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":262},"end":{"line":14,"column":64,"index":326}}],"key":"7+Fs6fvkAbHB0IU2p+AMhuguGZA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _Animation = require(_dependencyMap[0], \"./Animation\");\n  var Animation = _interopDefault(_Animation);\n  var _NativeAnimatedHelper = require(_dependencyMap[1], \"../NativeAnimatedHelper\");\n  class DecayAnimation extends Animation.default {\n    constructor(config) {\n      var _config$deceleration, _config$isInteraction, _config$iterations;\n      super();\n      this._deceleration = (_config$deceleration = config.deceleration) !== null && _config$deceleration !== void 0 ? _config$deceleration : 0.998;\n      this._velocity = config.velocity;\n      this._useNativeDriver = (0, _NativeAnimatedHelper.shouldUseNativeDriver)(config);\n      this.__isInteraction = (_config$isInteraction = config.isInteraction) !== null && _config$isInteraction !== void 0 ? _config$isInteraction : !this._useNativeDriver;\n      this.__iterations = (_config$iterations = config.iterations) !== null && _config$iterations !== void 0 ? _config$iterations : 1;\n    }\n    __getNativeAnimationConfig() {\n      return {\n        type: 'decay',\n        deceleration: this._deceleration,\n        velocity: this._velocity,\n        iterations: this.__iterations\n      };\n    }\n    start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n      this.__active = true;\n      this._lastValue = fromValue;\n      this._fromValue = fromValue;\n      this._onUpdate = onUpdate;\n      this.__onEnd = onEnd;\n      this._startTime = Date.now();\n      if (this._useNativeDriver) {\n        this.__startNativeAnimation(animatedValue);\n      } else {\n        this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n      }\n    }\n    onUpdate() {\n      var now = Date.now();\n      var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n      this._onUpdate(value);\n      if (Math.abs(this._lastValue - value) < 0.1) {\n        this.__debouncedOnEnd({\n          finished: true\n        });\n        return;\n      }\n      this._lastValue = value;\n      if (this.__active) {\n        this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n      }\n    }\n    stop() {\n      super.stop();\n      this.__active = false;\n      global.cancelAnimationFrame(this._animationFrame);\n      this.__debouncedOnEnd({\n        finished: false\n      });\n    }\n  }\n  var _default = DecayAnimation;\n});","lineCount":87,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13,"Object"],[14,8,11,13],[14,9,11,13,"defineProperty"],[14,23,11,13],[14,24,11,13,"exports"],[14,31,11,13],[15,4,11,13,"value"],[15,9,11,13],[16,2,11,13],[17,2,11,13],[17,11,11,13,"_interopDefault"],[17,27,11,13,"e"],[17,28,11,13],[18,4,11,13],[18,11,11,13,"e"],[18,12,11,13],[18,16,11,13,"e"],[18,17,11,13],[18,18,11,13,"__esModule"],[18,28,11,13],[18,31,11,13,"e"],[18,32,11,13],[19,6,11,13,"default"],[19,13,11,13],[19,15,11,13,"e"],[20,4,11,13],[21,2,11,13],[22,2,70,0,"Object"],[22,8,70,0],[22,9,70,0,"defineProperty"],[22,23,70,0],[22,24,70,0,"exports"],[22,31,70,0],[23,4,70,0,"enumerable"],[23,14,70,0],[24,4,70,0,"get"],[24,7,70,0],[24,18,70,0,"get"],[24,19,70,0],[25,6,70,0],[25,13,70,0,"_default"],[25,21,70,0],[26,4,70,0],[27,2,70,0],[28,2,13,0],[28,6,13,0,"_Animation"],[28,16,13,0],[28,19,13,0,"require"],[28,26,13,0],[28,27,13,0,"_dependencyMap"],[28,41,13,0],[29,2,13,0],[29,6,13,0,"Animation"],[29,15,13,0],[29,18,13,0,"_interopDefault"],[29,33,13,0],[29,34,13,0,"_Animation"],[29,44,13,0],[30,2,14,0],[30,6,14,0,"_NativeAnimatedHelper"],[30,27,14,0],[30,30,14,0,"require"],[30,37,14,0],[30,38,14,0,"_dependencyMap"],[30,52,14,0],[31,2,15,0],[31,8,15,6,"DecayAnimation"],[31,22,15,20],[31,31,15,29,"Animation"],[31,40,15,38],[31,41,15,38,"default"],[31,48,15,38],[31,49,15,39],[32,4,16,2,"constructor"],[32,15,16,13,"constructor"],[32,16,16,14,"config"],[32,22,16,20],[32,24,16,22],[33,6,17,4],[33,10,17,8,"_config$deceleration"],[33,30,17,28],[33,32,17,30,"_config$isInteraction"],[33,53,17,51],[33,55,17,53,"_config$iterations"],[33,73,17,71],[34,6,18,4],[34,11,18,9],[34,12,18,10],[34,13,18,11],[35,6,19,4],[35,10,19,8],[35,11,19,9,"_deceleration"],[35,24,19,22],[35,27,19,25],[35,28,19,26,"_config$deceleration"],[35,48,19,46],[35,51,19,49,"config"],[35,57,19,55],[35,58,19,56,"deceleration"],[35,70,19,68],[35,76,19,74],[35,80,19,78],[35,84,19,82,"_config$deceleration"],[35,104,19,102],[35,109,19,107],[35,114,19,112],[35,115,19,113],[35,118,19,116,"_config$deceleration"],[35,138,19,136],[35,141,19,139],[35,146,19,144],[36,6,20,4],[36,10,20,8],[36,11,20,9,"_velocity"],[36,20,20,18],[36,23,20,21,"config"],[36,29,20,27],[36,30,20,28,"velocity"],[36,38,20,36],[37,6,21,4],[37,10,21,8],[37,11,21,9,"_useNativeDriver"],[37,27,21,25],[37,30,21,28],[37,34,21,28,"shouldUseNativeDriver"],[37,55,21,49],[37,56,21,49,"shouldUseNativeDriver"],[37,77,21,49],[37,79,21,50,"config"],[37,85,21,56],[37,86,21,57],[38,6,22,4],[38,10,22,8],[38,11,22,9,"__isInteraction"],[38,26,22,24],[38,29,22,27],[38,30,22,28,"_config$isInteraction"],[38,51,22,49],[38,54,22,52,"config"],[38,60,22,58],[38,61,22,59,"isInteraction"],[38,74,22,72],[38,80,22,78],[38,84,22,82],[38,88,22,86,"_config$isInteraction"],[38,109,22,107],[38,114,22,112],[38,119,22,117],[38,120,22,118],[38,123,22,121,"_config$isInteraction"],[38,144,22,142],[38,147,22,145],[38,148,22,146],[38,152,22,150],[38,153,22,151,"_useNativeDriver"],[38,169,22,167],[39,6,23,4],[39,10,23,8],[39,11,23,9,"__iterations"],[39,23,23,21],[39,26,23,24],[39,27,23,25,"_config$iterations"],[39,45,23,43],[39,48,23,46,"config"],[39,54,23,52],[39,55,23,53,"iterations"],[39,65,23,63],[39,71,23,69],[39,75,23,73],[39,79,23,77,"_config$iterations"],[39,97,23,95],[39,102,23,100],[39,107,23,105],[39,108,23,106],[39,111,23,109,"_config$iterations"],[39,129,23,127],[39,132,23,130],[39,133,23,131],[40,4,24,2],[41,4,25,2,"__getNativeAnimationConfig"],[41,30,25,28,"__getNativeAnimationConfig"],[41,31,25,28],[41,33,25,31],[42,6,26,4],[42,13,26,11],[43,8,27,6,"type"],[43,12,27,10],[43,14,27,12],[43,21,27,19],[44,8,28,6,"deceleration"],[44,20,28,18],[44,22,28,20],[44,26,28,24],[44,27,28,25,"_deceleration"],[44,40,28,38],[45,8,29,6,"velocity"],[45,16,29,14],[45,18,29,16],[45,22,29,20],[45,23,29,21,"_velocity"],[45,32,29,30],[46,8,30,6,"iterations"],[46,18,30,16],[46,20,30,18],[46,24,30,22],[46,25,30,23,"__iterations"],[47,6,31,4],[47,7,31,5],[48,4,32,2],[49,4,33,2,"start"],[49,9,33,7,"start"],[49,10,33,8,"fromValue"],[49,19,33,17],[49,21,33,19,"onUpdate"],[49,29,33,27],[49,31,33,29,"onEnd"],[49,36,33,34],[49,38,33,36,"previousAnimation"],[49,55,33,53],[49,57,33,55,"animatedValue"],[49,70,33,68],[49,72,33,70],[50,6,34,4],[50,10,34,8],[50,11,34,9,"__active"],[50,19,34,17],[50,22,34,20],[50,26,34,24],[51,6,35,4],[51,10,35,8],[51,11,35,9,"_lastValue"],[51,21,35,19],[51,24,35,22,"fromValue"],[51,33,35,31],[52,6,36,4],[52,10,36,8],[52,11,36,9,"_fromValue"],[52,21,36,19],[52,24,36,22,"fromValue"],[52,33,36,31],[53,6,37,4],[53,10,37,8],[53,11,37,9,"_onUpdate"],[53,20,37,18],[53,23,37,21,"onUpdate"],[53,31,37,29],[54,6,38,4],[54,10,38,8],[54,11,38,9,"__onEnd"],[54,18,38,16],[54,21,38,19,"onEnd"],[54,26,38,24],[55,6,39,4],[55,10,39,8],[55,11,39,9,"_startTime"],[55,21,39,19],[55,24,39,22,"Date"],[55,28,39,26],[55,29,39,27,"now"],[55,32,39,30],[55,33,39,31],[55,34,39,32],[56,6,40,4],[56,10,40,8],[56,14,40,12],[56,15,40,13,"_useNativeDriver"],[56,31,40,29],[56,33,40,31],[57,8,41,6],[57,12,41,10],[57,13,41,11,"__startNativeAnimation"],[57,35,41,33],[57,36,41,34,"animatedValue"],[57,49,41,47],[57,50,41,48],[58,6,42,4],[58,7,42,5],[58,13,42,11],[59,8,43,6],[59,12,43,10],[59,13,43,11,"_animationFrame"],[59,28,43,26],[59,31,43,29,"requestAnimationFrame"],[59,52,43,50],[59,53,43,51],[59,57,43,55],[59,58,43,56,"onUpdate"],[59,66,43,64],[59,67,43,65,"bind"],[59,71,43,69],[59,72,43,70],[59,76,43,74],[59,77,43,75],[59,78,43,76],[60,6,44,4],[61,4,45,2],[62,4,46,2,"onUpdate"],[62,12,46,10,"onUpdate"],[62,13,46,10],[62,15,46,13],[63,6,47,4],[63,10,47,8,"now"],[63,13,47,11],[63,16,47,14,"Date"],[63,20,47,18],[63,21,47,19,"now"],[63,24,47,22],[63,25,47,23],[63,26,47,24],[64,6,48,4],[64,10,48,8,"value"],[64,15,48,13],[64,18,48,16],[64,22,48,20],[64,23,48,21,"_fromValue"],[64,33,48,31],[64,36,48,34],[64,40,48,38],[64,41,48,39,"_velocity"],[64,50,48,48],[64,54,48,52],[64,55,48,53],[64,58,48,56],[64,62,48,60],[64,63,48,61,"_deceleration"],[64,76,48,74],[64,77,48,75],[64,81,48,79],[64,82,48,80],[64,85,48,83,"Math"],[64,89,48,87],[64,90,48,88,"exp"],[64,93,48,91],[64,94,48,92],[64,96,48,94],[64,97,48,95],[64,100,48,98],[64,104,48,102],[64,105,48,103,"_deceleration"],[64,118,48,116],[64,119,48,117],[64,123,48,121,"now"],[64,126,48,124],[64,129,48,127],[64,133,48,131],[64,134,48,132,"_startTime"],[64,144,48,142],[64,145,48,143],[64,146,48,144],[64,147,48,145],[65,6,49,4],[65,10,49,8],[65,11,49,9,"_onUpdate"],[65,20,49,18],[65,21,49,19,"value"],[65,26,49,24],[65,27,49,25],[66,6,50,4],[66,10,50,8,"Math"],[66,14,50,12],[66,15,50,13,"abs"],[66,18,50,16],[66,19,50,17],[66,23,50,21],[66,24,50,22,"_lastValue"],[66,34,50,32],[66,37,50,35,"value"],[66,42,50,40],[66,43,50,41],[66,46,50,44],[66,49,50,47],[66,51,50,49],[67,8,51,6],[67,12,51,10],[67,13,51,11,"__debouncedOnEnd"],[67,29,51,27],[67,30,51,28],[68,10,52,8,"finished"],[68,18,52,16],[68,20,52,18],[69,8,53,6],[69,9,53,7],[69,10,53,8],[70,8,54,6],[71,6,55,4],[72,6,56,4],[72,10,56,8],[72,11,56,9,"_lastValue"],[72,21,56,19],[72,24,56,22,"value"],[72,29,56,27],[73,6,57,4],[73,10,57,8],[73,14,57,12],[73,15,57,13,"__active"],[73,23,57,21],[73,25,57,23],[74,8,58,6],[74,12,58,10],[74,13,58,11,"_animationFrame"],[74,28,58,26],[74,31,58,29,"requestAnimationFrame"],[74,52,58,50],[74,53,58,51],[74,57,58,55],[74,58,58,56,"onUpdate"],[74,66,58,64],[74,67,58,65,"bind"],[74,71,58,69],[74,72,58,70],[74,76,58,74],[74,77,58,75],[74,78,58,76],[75,6,59,4],[76,4,60,2],[77,4,61,2,"stop"],[77,8,61,6,"stop"],[77,9,61,6],[77,11,61,9],[78,6,62,4],[78,11,62,9],[78,12,62,10,"stop"],[78,16,62,14],[78,17,62,15],[78,18,62,16],[79,6,63,4],[79,10,63,8],[79,11,63,9,"__active"],[79,19,63,17],[79,22,63,20],[79,27,63,25],[80,6,64,4,"global"],[80,12,64,10],[80,13,64,11,"cancelAnimationFrame"],[80,33,64,31],[80,34,64,32],[80,38,64,36],[80,39,64,37,"_animationFrame"],[80,54,64,52],[80,55,64,53],[81,6,65,4],[81,10,65,8],[81,11,65,9,"__debouncedOnEnd"],[81,27,65,25],[81,28,65,26],[82,8,66,6,"finished"],[82,16,66,14],[82,18,66,16],[83,6,67,4],[83,7,67,5],[83,8,67,6],[84,4,68,2],[85,2,69,0],[86,2,70,0],[86,6,70,0,"_default"],[86,14,70,0],[86,17,70,15,"DecayAnimation"],[86,31,70,29],[87,0,70,30],[87,3]],"functionMap":{"names":["<global>","DecayAnimation","constructor","__getNativeAnimationConfig","start","onUpdate","stop"],"mappings":"AAA;ACc;ECC;GDQ;EEC;GFO;EGC;GHY;EIC;GJc;EKC;GLO;CDC"},"hasCjsExports":false},"type":"js/module"}]}