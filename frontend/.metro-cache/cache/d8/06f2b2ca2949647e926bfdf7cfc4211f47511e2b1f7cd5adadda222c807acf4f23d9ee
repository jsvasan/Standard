{"dependencies":[{"name":"../../src/private/featureflags/ReactNativeFeatureFlags","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0},"end":{"line":13,"column":98}}],"key":"fdTx5edELD8GYD7vaakWfKKte1Y=","exportNames":["*"],"imports":1}},{"name":"../vendor/emitter/EventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0},"end":{"line":14,"column":58}}],"key":"FSJ8dBSGMPKDnoV5nqp600Oqgzc=","exportNames":["*"],"imports":1}},{"name":"../BatchedBridge/BatchedBridge","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":22},"end":{"line":17,"column":63}}],"key":"RVO988+Zv/6E/rt0hBQ7t8lVl4o=","exportNames":["*"],"imports":1}},{"name":"../Utilities/infoLog","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":16},"end":{"line":18,"column":47}}],"key":"JOQiliPDxvxpS4qCtoh0JoUHvB4=","exportNames":["*"],"imports":1}},{"name":"./TaskQueue","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":18},"end":{"line":19,"column":40}}],"key":"JdVwdRfYYIkBEefq5ZvEtZ/aHHY=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":18},"end":{"line":20,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}},{"name":"./InteractionManagerStub","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":223,"column":6},"end":{"line":223,"column":41}}],"key":"6Axl/FjQxNlPydjZVdzFgWLPoUg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _srcPrivateFeatureflagsReactNativeFeatureFlags = require(_dependencyMap[0], \"../../src/private/featureflags/ReactNativeFeatureFlags\");\n  var ReactNativeFeatureFlags = _interopNamespace(_srcPrivateFeatureflagsReactNativeFeatureFlags);\n  var _vendorEmitterEventEmitter = require(_dependencyMap[1], \"../vendor/emitter/EventEmitter\");\n  var EventEmitter = _interopDefault(_vendorEmitterEventEmitter);\n  var BatchedBridge = require(_dependencyMap[2], \"../BatchedBridge/BatchedBridge\").default;\n  var infoLog = require(_dependencyMap[3], \"../Utilities/infoLog\").default;\n  var TaskQueue = require(_dependencyMap[4], \"./TaskQueue\").default;\n  var invariant = require(_dependencyMap[5], \"invariant\");\n  var _emitter = new EventEmitter.default();\n  var DEBUG_DELAY = 0;\n  var DEBUG = false;\n  var InteractionManagerImpl = {\n    Events: {\n      interactionStart: 'interactionStart',\n      interactionComplete: 'interactionComplete'\n    },\n    runAfterInteractions(task) {\n      var tasks = [];\n      var promise = new Promise(resolve => {\n        _scheduleUpdate();\n        if (task) {\n          tasks.push(task);\n        }\n        tasks.push({\n          run: resolve,\n          name: 'resolve ' + (task && task.name || '?')\n        });\n        _taskQueue.enqueueTasks(tasks);\n      });\n      return {\n        then: promise.then.bind(promise),\n        cancel: function () {\n          _taskQueue.cancelTasks(tasks);\n        }\n      };\n    },\n    createInteractionHandle() {\n      DEBUG && infoLog('InteractionManager: create interaction handle');\n      _scheduleUpdate();\n      var handle = ++_inc;\n      _addInteractionSet.add(handle);\n      return handle;\n    },\n    clearInteractionHandle(handle) {\n      DEBUG && infoLog('InteractionManager: clear interaction handle');\n      invariant(!!handle, 'InteractionManager: Must provide a handle to clear.');\n      _scheduleUpdate();\n      _addInteractionSet.delete(handle);\n      _deleteInteractionSet.add(handle);\n    },\n    addListener: _emitter.addListener.bind(_emitter),\n    setDeadline(deadline) {\n      _deadline = deadline;\n    }\n  };\n  var _interactionSet = new Set();\n  var _addInteractionSet = new Set();\n  var _deleteInteractionSet = new Set();\n  var _taskQueue = new TaskQueue({\n    onMoreTasks: _scheduleUpdate\n  });\n  var _nextUpdateHandle = 0;\n  var _inc = 0;\n  var _deadline = -1;\n  function _scheduleUpdate() {\n    if (!_nextUpdateHandle) {\n      if (_deadline > 0) {\n        _nextUpdateHandle = setTimeout(_processUpdate, 0 + DEBUG_DELAY);\n      } else {\n        _nextUpdateHandle = setImmediate(_processUpdate);\n      }\n    }\n  }\n  function _processUpdate() {\n    _nextUpdateHandle = 0;\n    var interactionCount = _interactionSet.size;\n    _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n    _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n    var nextInteractionCount = _interactionSet.size;\n    if (interactionCount !== 0 && nextInteractionCount === 0) {\n      _emitter.emit(InteractionManager.Events.interactionComplete);\n    } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n      _emitter.emit(InteractionManager.Events.interactionStart);\n    }\n    if (nextInteractionCount === 0) {\n      while (_taskQueue.hasTasksToProcess()) {\n        _taskQueue.processNext();\n        if (_deadline > 0 && BatchedBridge.getEventLoopRunningTime() >= _deadline) {\n          _scheduleUpdate();\n          break;\n        }\n      }\n    }\n    _addInteractionSet.clear();\n    _deleteInteractionSet.clear();\n  }\n  var InteractionManager = ReactNativeFeatureFlags.disableInteractionManager() ? require(_dependencyMap[6], \"./InteractionManagerStub\").default : InteractionManagerImpl;\n  var _default = InteractionManager;\n});","lineCount":131,"map":[[27,2,227,0,"Object"],[27,8,227,0],[27,9,227,0,"defineProperty"],[27,23,227,0],[27,24,227,0,"exports"],[27,31,227,0],[28,4,227,0,"enumerable"],[28,14,227,0],[29,4,227,0,"get"],[29,7,227,0],[29,18,227,0,"get"],[29,19,227,0],[30,6,227,0],[30,13,227,0,"_default"],[30,21,227,0],[31,4,227,0],[32,2,227,0],[33,2,13,0],[33,6,13,0,"_srcPrivateFeatureflagsReactNativeFeatureFlags"],[33,52,13,0],[33,55,13,0,"require"],[33,62,13,0],[33,63,13,0,"_dependencyMap"],[33,77,13,0],[34,2,13,0],[34,6,13,0,"ReactNativeFeatureFlags"],[34,29,13,0],[34,32,13,0,"_interopNamespace"],[34,49,13,0],[34,50,13,0,"_srcPrivateFeatureflagsReactNativeFeatureFlags"],[34,96,13,0],[35,2,14,0],[35,6,14,0,"_vendorEmitterEventEmitter"],[35,32,14,0],[35,35,14,0,"require"],[35,42,14,0],[35,43,14,0,"_dependencyMap"],[35,57,14,0],[36,2,14,0],[36,6,14,0,"EventEmitter"],[36,18,14,0],[36,21,14,0,"_interopDefault"],[36,36,14,0],[36,37,14,0,"_vendorEmitterEventEmitter"],[36,63,14,0],[37,2,17,0],[37,6,17,6,"BatchedBridge"],[37,19,17,19],[37,22,17,22,"require"],[37,29,17,29],[37,30,17,29,"_dependencyMap"],[37,44,17,29],[37,81,17,62],[37,82,17,63],[37,83,17,64,"default"],[37,90,17,71],[38,2,18,0],[38,6,18,6,"infoLog"],[38,13,18,13],[38,16,18,16,"require"],[38,23,18,23],[38,24,18,23,"_dependencyMap"],[38,38,18,23],[38,65,18,46],[38,66,18,47],[38,67,18,48,"default"],[38,74,18,55],[39,2,19,0],[39,6,19,6,"TaskQueue"],[39,15,19,15],[39,18,19,18,"require"],[39,25,19,25],[39,26,19,25,"_dependencyMap"],[39,40,19,25],[39,58,19,39],[39,59,19,40],[39,60,19,41,"default"],[39,67,19,48],[40,2,20,0],[40,6,20,6,"invariant"],[40,15,20,15],[40,18,20,18,"require"],[40,25,20,25],[40,26,20,25,"_dependencyMap"],[40,40,20,25],[40,56,20,37],[40,57,20,38],[41,2,26,0],[41,6,26,6,"_emitter"],[41,14,26,14],[41,17,26,17],[41,21,26,21,"EventEmitter"],[41,33,26,33],[41,34,26,33,"default"],[41,41,26,33],[41,42,29,3],[41,43,29,4],[42,2,31,0],[42,6,31,6,"DEBUG_DELAY"],[42,17,31,20],[42,20,31,23],[42,21,31,24],[43,2,32,0],[43,6,32,6,"DEBUG"],[43,11,32,18],[43,14,32,21],[43,19,32,26],[44,2,83,0],[44,6,83,6,"InteractionManagerImpl"],[44,28,83,28],[44,31,83,31],[45,4,84,2,"Events"],[45,10,84,8],[45,12,84,10],[46,6,85,4,"interactionStart"],[46,22,85,20],[46,24,85,22],[46,42,85,40],[47,6,86,4,"interactionComplete"],[47,25,86,23],[47,27,86,25],[48,4,87,2],[48,5,87,3],[49,4,93,2,"runAfterInteractions"],[49,24,93,22,"runAfterInteractions"],[49,25,93,23,"task"],[49,29,93,34],[49,31,100,4],[50,6,101,4],[50,10,101,10,"tasks"],[50,15,101,28],[50,18,101,31],[50,20,101,33],[51,6,102,4],[51,10,102,10,"promise"],[51,17,102,17],[51,20,102,20],[51,24,102,24,"Promise"],[51,31,102,31],[51,32,102,33,"resolve"],[51,39,102,52],[51,43,102,57],[52,8,103,6,"_scheduleUpdate"],[52,23,103,21],[52,24,103,22],[52,25,103,23],[53,8,104,6],[53,12,104,10,"task"],[53,16,104,14],[53,18,104,16],[54,10,105,8,"tasks"],[54,15,105,13],[54,16,105,14,"push"],[54,20,105,18],[54,21,105,19,"task"],[54,25,105,23],[54,26,105,24],[55,8,106,6],[56,8,107,6,"tasks"],[56,13,107,11],[56,14,107,12,"push"],[56,18,107,16],[56,19,107,17],[57,10,108,8,"run"],[57,13,108,11],[57,15,108,13,"resolve"],[57,22,108,20],[58,10,109,8,"name"],[58,14,109,12],[58,16,109,14],[58,26,109,24],[58,30,109,29,"task"],[58,34,109,33],[58,38,109,37,"task"],[58,42,109,41],[58,43,109,42,"name"],[58,47,109,46],[58,51,109,51],[58,54,109,54],[59,8,110,6],[59,9,110,7],[59,10,110,8],[60,8,111,6,"_taskQueue"],[60,18,111,16],[60,19,111,17,"enqueueTasks"],[60,31,111,29],[60,32,111,30,"tasks"],[60,37,111,35],[60,38,111,36],[61,6,112,4],[61,7,112,5],[61,8,112,6],[62,6,113,4],[62,13,113,11],[63,8,115,6,"then"],[63,12,115,10],[63,14,115,12,"promise"],[63,21,115,19],[63,22,115,20,"then"],[63,26,115,24],[63,27,115,25,"bind"],[63,31,115,29],[63,32,115,30,"promise"],[63,39,115,37],[63,40,115,38],[64,8,116,6,"cancel"],[64,14,116,12],[64,16,116,14],[64,25,116,14,"cancel"],[64,26,116,14],[64,28,116,26],[65,10,117,8,"_taskQueue"],[65,20,117,18],[65,21,117,19,"cancelTasks"],[65,32,117,30],[65,33,117,31,"tasks"],[65,38,117,36],[65,39,117,37],[66,8,118,6],[67,6,119,4],[67,7,119,5],[68,4,120,2],[68,5,120,3],[69,4,125,2,"createInteractionHandle"],[69,27,125,25,"createInteractionHandle"],[69,28,125,25],[69,30,125,36],[70,6,126,4,"DEBUG"],[70,11,126,9],[70,15,126,13,"infoLog"],[70,22,126,20],[70,23,126,21],[70,70,126,68],[70,71,126,69],[71,6,127,4,"_scheduleUpdate"],[71,21,127,19],[71,22,127,20],[71,23,127,21],[72,6,128,4],[72,10,128,10,"handle"],[72,16,128,16],[72,19,128,19],[72,21,128,21,"_inc"],[72,25,128,25],[73,6,129,4,"_addInteractionSet"],[73,24,129,22],[73,25,129,23,"add"],[73,28,129,26],[73,29,129,27,"handle"],[73,35,129,33],[73,36,129,34],[74,6,130,4],[74,13,130,11,"handle"],[74,19,130,17],[75,4,131,2],[75,5,131,3],[76,4,136,2,"clearInteractionHandle"],[76,26,136,24,"clearInteractionHandle"],[76,27,136,25,"handle"],[76,33,136,39],[76,35,136,41],[77,6,137,4,"DEBUG"],[77,11,137,9],[77,15,137,13,"infoLog"],[77,22,137,20],[77,23,137,21],[77,69,137,67],[77,70,137,68],[78,6,138,4,"invariant"],[78,15,138,13],[78,16,138,14],[78,17,138,15],[78,18,138,16,"handle"],[78,24,138,22],[78,26,138,24],[78,79,138,77],[78,80,138,78],[79,6,139,4,"_scheduleUpdate"],[79,21,139,19],[79,22,139,20],[79,23,139,21],[80,6,140,4,"_addInteractionSet"],[80,24,140,22],[80,25,140,23,"delete"],[80,31,140,29],[80,32,140,30,"handle"],[80,38,140,36],[80,39,140,37],[81,6,141,4,"_deleteInteractionSet"],[81,27,141,25],[81,28,141,26,"add"],[81,31,141,29],[81,32,141,30,"handle"],[81,38,141,36],[81,39,141,37],[82,4,142,2],[82,5,142,3],[83,4,146,2,"addListener"],[83,15,146,13],[83,17,146,15,"_emitter"],[83,25,146,23],[83,26,146,24,"addListener"],[83,37,146,35],[83,38,146,36,"bind"],[83,42,146,40],[83,43,146,41,"_emitter"],[83,51,146,49],[83,52,151,24],[84,4,158,2,"setDeadline"],[84,15,158,13,"setDeadline"],[84,16,158,14,"deadline"],[84,24,158,30],[84,26,158,32],[85,6,159,4,"_deadline"],[85,15,159,13],[85,18,159,16,"deadline"],[85,26,159,24],[86,4,160,2],[87,2,161,0],[87,3,161,1],[88,2,163,0],[88,6,163,6,"_interactionSet"],[88,21,163,21],[88,24,163,24],[88,28,163,28,"Set"],[88,31,163,31],[88,32,163,49],[88,33,163,50],[89,2,164,0],[89,6,164,6,"_addInteractionSet"],[89,24,164,24],[89,27,164,27],[89,31,164,31,"Set"],[89,34,164,34],[89,35,164,52],[89,36,164,53],[90,2,165,0],[90,6,165,6,"_deleteInteractionSet"],[90,27,165,27],[90,30,165,30],[90,34,165,34,"Set"],[90,37,165,37],[90,38,165,46],[90,39,165,47],[91,2,166,0],[91,6,166,6,"_taskQueue"],[91,16,166,16],[91,19,166,19],[91,23,166,23,"TaskQueue"],[91,32,166,32],[91,33,166,33],[92,4,166,34,"onMoreTasks"],[92,15,166,45],[92,17,166,47,"_scheduleUpdate"],[93,2,166,62],[93,3,166,63],[93,4,166,64],[94,2,167,0],[94,6,167,4,"_nextUpdateHandle"],[94,23,167,45],[94,26,167,48],[94,27,167,49],[95,2,168,0],[95,6,168,4,"_inc"],[95,10,168,8],[95,13,168,11],[95,14,168,12],[96,2,169,0],[96,6,169,4,"_deadline"],[96,15,169,13],[96,18,169,16],[96,19,169,17],[96,20,169,18],[97,2,174,0],[97,11,174,9,"_scheduleUpdate"],[97,26,174,24,"_scheduleUpdate"],[97,27,174,24],[97,29,174,27],[98,4,175,2],[98,8,175,6],[98,9,175,7,"_nextUpdateHandle"],[98,26,175,24],[98,28,175,26],[99,6,176,4],[99,10,176,8,"_deadline"],[99,19,176,17],[99,22,176,20],[99,23,176,21],[99,25,176,23],[100,8,177,6,"_nextUpdateHandle"],[100,25,177,23],[100,28,177,26,"setTimeout"],[100,38,177,36],[100,39,177,37,"_processUpdate"],[100,53,177,51],[100,55,177,53],[100,56,177,54],[100,59,177,57,"DEBUG_DELAY"],[100,70,177,68],[100,71,177,69],[101,6,178,4],[101,7,178,5],[101,13,178,11],[102,8,179,6,"_nextUpdateHandle"],[102,25,179,23],[102,28,179,26,"setImmediate"],[102,40,179,38],[102,41,179,39,"_processUpdate"],[102,55,179,53],[102,56,179,54],[103,6,180,4],[104,4,181,2],[105,2,182,0],[106,2,187,0],[106,11,187,9,"_processUpdate"],[106,25,187,23,"_processUpdate"],[106,26,187,23],[106,28,187,26],[107,4,188,2,"_nextUpdateHandle"],[107,21,188,19],[107,24,188,22],[107,25,188,23],[108,4,190,2],[108,8,190,8,"interactionCount"],[108,24,190,24],[108,27,190,27,"_interactionSet"],[108,42,190,42],[108,43,190,43,"size"],[108,47,190,47],[109,4,191,2,"_addInteractionSet"],[109,22,191,20],[109,23,191,21,"forEach"],[109,30,191,28],[109,31,191,29,"handle"],[109,37,191,35],[109,41,191,39,"_interactionSet"],[109,56,191,54],[109,57,191,55,"add"],[109,60,191,58],[109,61,191,59,"handle"],[109,67,191,65],[109,68,191,66],[109,69,191,67],[110,4,192,2,"_deleteInteractionSet"],[110,25,192,23],[110,26,192,24,"forEach"],[110,33,192,31],[110,34,192,32,"handle"],[110,40,192,38],[110,44,192,42,"_interactionSet"],[110,59,192,57],[110,60,192,58,"delete"],[110,66,192,64],[110,67,192,65,"handle"],[110,73,192,71],[110,74,192,72],[110,75,192,73],[111,4,193,2],[111,8,193,8,"nextInteractionCount"],[111,28,193,28],[111,31,193,31,"_interactionSet"],[111,46,193,46],[111,47,193,47,"size"],[111,51,193,51],[112,4,195,2],[112,8,195,6,"interactionCount"],[112,24,195,22],[112,29,195,27],[112,30,195,28],[112,34,195,32,"nextInteractionCount"],[112,54,195,52],[112,59,195,57],[112,60,195,58],[112,62,195,60],[113,6,197,4,"_emitter"],[113,14,197,12],[113,15,197,13,"emit"],[113,19,197,17],[113,20,197,18,"InteractionManager"],[113,38,197,36],[113,39,197,37,"Events"],[113,45,197,43],[113,46,197,44,"interactionComplete"],[113,65,197,63],[113,66,197,64],[114,4,198,2],[114,5,198,3],[114,11,198,9],[114,15,198,13,"interactionCount"],[114,31,198,29],[114,36,198,34],[114,37,198,35],[114,41,198,39,"nextInteractionCount"],[114,61,198,59],[114,66,198,64],[114,67,198,65],[114,69,198,67],[115,6,200,4,"_emitter"],[115,14,200,12],[115,15,200,13,"emit"],[115,19,200,17],[115,20,200,18,"InteractionManager"],[115,38,200,36],[115,39,200,37,"Events"],[115,45,200,43],[115,46,200,44,"interactionStart"],[115,62,200,60],[115,63,200,61],[116,4,201,2],[117,4,204,2],[117,8,204,6,"nextInteractionCount"],[117,28,204,26],[117,33,204,31],[117,34,204,32],[117,36,204,34],[118,6,205,4],[118,13,205,11,"_taskQueue"],[118,23,205,21],[118,24,205,22,"hasTasksToProcess"],[118,41,205,39],[118,42,205,40],[118,43,205,41],[118,45,205,43],[119,8,206,6,"_taskQueue"],[119,18,206,16],[119,19,206,17,"processNext"],[119,30,206,28],[119,31,206,29],[119,32,206,30],[120,8,207,6],[120,12,208,8,"_deadline"],[120,21,208,17],[120,24,208,20],[120,25,208,21],[120,29,209,8,"BatchedBridge"],[120,42,209,21],[120,43,209,22,"getEventLoopRunningTime"],[120,66,209,45],[120,67,209,46],[120,68,209,47],[120,72,209,51,"_deadline"],[120,81,209,60],[120,83,210,8],[121,10,212,8,"_scheduleUpdate"],[121,25,212,23],[121,26,212,24],[121,27,212,25],[122,10,213,8],[123,8,214,6],[124,6,215,4],[125,4,216,2],[126,4,217,2,"_addInteractionSet"],[126,22,217,20],[126,23,217,21,"clear"],[126,28,217,26],[126,29,217,27],[126,30,217,28],[127,4,218,2,"_deleteInteractionSet"],[127,25,218,23],[127,26,218,24,"clear"],[127,31,218,29],[127,32,218,30],[127,33,218,31],[128,2,219,0],[129,2,221,0],[129,6,221,6,"InteractionManager"],[129,24,221,24],[129,27,222,2,"ReactNativeFeatureFlags"],[129,50,222,25],[129,51,222,26,"disableInteractionManager"],[129,76,222,51],[129,77,222,52],[129,78,222,53],[129,81,223,6,"require"],[129,88,223,13],[129,89,223,13,"_dependencyMap"],[129,103,223,13],[129,134,223,40],[129,135,223,41],[129,136,223,42,"default"],[129,143,223,49],[129,146,224,6,"InteractionManagerImpl"],[129,168,225,34],[130,2,227,0],[130,6,227,0,"_default"],[130,14,227,0],[130,17,227,15,"InteractionManager"],[130,35,227,33],[131,0,227,34],[131,3]],"functionMap":{"names":["<global>","InteractionManagerImpl.runAfterInteractions","Promise$argument_0","cancel","InteractionManagerImpl.createInteractionHandle","InteractionManagerImpl.clearInteractionHandle","InteractionManagerImpl.setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;EC4F;gCCS;KDU;cEI;OFE;GDE;EIK;GJM;EKK;GLM;EMgB;GNE;AOc;CPQ;AQK;6BCI,qCD;gCEC,wCF;CR2B"},"hasCjsExports":false},"type":"js/module"}]}