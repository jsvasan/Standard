{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"E5lU3h554k94C0V5puhR219BWnU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _isRecordEqual = require(_dependencyMap[1], \"./isRecordEqual.js\");\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  const CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    const cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    if (process.env.NODE_ENV === 'production') {\n      // We don't want the overhead of creating extra maps every render in prod\n      return routes;\n    }\n    cache.current = routes.reduce((acc, route) => {\n      const previous = cache.current.get(route.key);\n      const {\n        state,\n        ...routeWithoutState\n      } = route;\n      let proxy;\n      if (previous && (0, _isRecordEqual.isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (const key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          const value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"CHILD_STATE"],[7,21,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useRouteCache"],[8,23,1,13],[8,26,1,13,"useRouteCache"],[8,39,1,13],[9,2,3,0],[9,6,3,0,"React"],[9,11,3,0],[9,14,3,0,"_interopRequireWildcard"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,4,0],[10,6,4,0,"_isRecordEqual"],[10,20,4,0],[10,23,4,0,"require"],[10,30,4,0],[10,31,4,0,"_dependencyMap"],[10,45,4,0],[11,2,4,51],[11,11,4,51,"_interopRequireWildcard"],[11,35,4,51,"e"],[11,36,4,51],[11,38,4,51,"t"],[11,39,4,51],[11,68,4,51,"WeakMap"],[11,75,4,51],[11,81,4,51,"r"],[11,82,4,51],[11,89,4,51,"WeakMap"],[11,96,4,51],[11,100,4,51,"n"],[11,101,4,51],[11,108,4,51,"WeakMap"],[11,115,4,51],[11,127,4,51,"_interopRequireWildcard"],[11,150,4,51],[11,162,4,51,"_interopRequireWildcard"],[11,163,4,51,"e"],[11,164,4,51],[11,166,4,51,"t"],[11,167,4,51],[11,176,4,51,"t"],[11,177,4,51],[11,181,4,51,"e"],[11,182,4,51],[11,186,4,51,"e"],[11,187,4,51],[11,188,4,51,"__esModule"],[11,198,4,51],[11,207,4,51,"e"],[11,208,4,51],[11,214,4,51,"o"],[11,215,4,51],[11,217,4,51,"i"],[11,218,4,51],[11,220,4,51,"f"],[11,221,4,51],[11,226,4,51,"__proto__"],[11,235,4,51],[11,243,4,51,"default"],[11,250,4,51],[11,252,4,51,"e"],[11,253,4,51],[11,270,4,51,"e"],[11,271,4,51],[11,294,4,51,"e"],[11,295,4,51],[11,320,4,51,"e"],[11,321,4,51],[11,330,4,51,"f"],[11,331,4,51],[11,337,4,51,"o"],[11,338,4,51],[11,341,4,51,"t"],[11,342,4,51],[11,345,4,51,"n"],[11,346,4,51],[11,349,4,51,"r"],[11,350,4,51],[11,358,4,51,"o"],[11,359,4,51],[11,360,4,51,"has"],[11,363,4,51],[11,364,4,51,"e"],[11,365,4,51],[11,375,4,51,"o"],[11,376,4,51],[11,377,4,51,"get"],[11,380,4,51],[11,381,4,51,"e"],[11,382,4,51],[11,385,4,51,"o"],[11,386,4,51],[11,387,4,51,"set"],[11,390,4,51],[11,391,4,51,"e"],[11,392,4,51],[11,394,4,51,"f"],[11,395,4,51],[11,411,4,51,"t"],[11,412,4,51],[11,416,4,51,"e"],[11,417,4,51],[11,433,4,51,"t"],[11,434,4,51],[11,441,4,51,"hasOwnProperty"],[11,455,4,51],[11,456,4,51,"call"],[11,460,4,51],[11,461,4,51,"e"],[11,462,4,51],[11,464,4,51,"t"],[11,465,4,51],[11,472,4,51,"i"],[11,473,4,51],[11,477,4,51,"o"],[11,478,4,51],[11,481,4,51,"Object"],[11,487,4,51],[11,488,4,51,"defineProperty"],[11,502,4,51],[11,507,4,51,"Object"],[11,513,4,51],[11,514,4,51,"getOwnPropertyDescriptor"],[11,538,4,51],[11,539,4,51,"e"],[11,540,4,51],[11,542,4,51,"t"],[11,543,4,51],[11,550,4,51,"i"],[11,551,4,51],[11,552,4,51,"get"],[11,555,4,51],[11,559,4,51,"i"],[11,560,4,51],[11,561,4,51,"set"],[11,564,4,51],[11,568,4,51,"o"],[11,569,4,51],[11,570,4,51,"f"],[11,571,4,51],[11,573,4,51,"t"],[11,574,4,51],[11,576,4,51,"i"],[11,577,4,51],[11,581,4,51,"f"],[11,582,4,51],[11,583,4,51,"t"],[11,584,4,51],[11,588,4,51,"e"],[11,589,4,51],[11,590,4,51,"t"],[11,591,4,51],[11,602,4,51,"f"],[11,603,4,51],[11,608,4,51,"e"],[11,609,4,51],[11,611,4,51,"t"],[11,612,4,51],[12,2,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,2,10,7],[17,8,10,13,"CHILD_STATE"],[17,19,10,24],[17,22,10,24,"exports"],[17,29,10,24],[17,30,10,24,"CHILD_STATE"],[17,41,10,24],[17,44,10,27,"Symbol"],[17,50,10,33],[17,51,10,34],[17,64,10,47],[17,65,10,48],[19,2,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,2,16,7],[23,11,16,16,"useRouteCache"],[23,24,16,29,"useRouteCache"],[23,25,16,30,"routes"],[23,31,16,36],[23,33,16,38],[24,4,17,2],[25,4,18,2],[25,10,18,8,"cache"],[25,15,18,13],[25,18,18,16,"React"],[25,23,18,21],[25,24,18,22,"useMemo"],[25,31,18,29],[25,32,18,30],[25,39,18,37],[26,6,19,4,"current"],[26,13,19,11],[26,15,19,13],[26,19,19,17,"Map"],[26,22,19,20],[26,23,19,21],[27,4,20,2],[27,5,20,3],[27,6,20,4],[27,8,20,6],[27,10,20,8],[27,11,20,9],[28,4,21,2],[28,8,21,6,"process"],[28,15,21,13],[28,16,21,14,"env"],[28,19,21,17],[28,20,21,18,"NODE_ENV"],[28,28,21,26],[28,33,21,31],[28,45,21,43],[28,47,21,45],[29,6,22,4],[30,6,23,4],[30,13,23,11,"routes"],[30,19,23,17],[31,4,24,2],[32,4,25,2,"cache"],[32,9,25,7],[32,10,25,8,"current"],[32,17,25,15],[32,20,25,18,"routes"],[32,26,25,24],[32,27,25,25,"reduce"],[32,33,25,31],[32,34,25,32],[32,35,25,33,"acc"],[32,38,25,36],[32,40,25,38,"route"],[32,45,25,43],[32,50,25,48],[33,6,26,4],[33,12,26,10,"previous"],[33,20,26,18],[33,23,26,21,"cache"],[33,28,26,26],[33,29,26,27,"current"],[33,36,26,34],[33,37,26,35,"get"],[33,40,26,38],[33,41,26,39,"route"],[33,46,26,44],[33,47,26,45,"key"],[33,50,26,48],[33,51,26,49],[34,6,27,4],[34,12,27,10],[35,8,28,6,"state"],[35,13,28,11],[36,8,29,6],[36,11,29,9,"routeWithoutState"],[37,6,30,4],[37,7,30,5],[37,10,30,8,"route"],[37,15,30,13],[38,6,31,4],[38,10,31,8,"proxy"],[38,15,31,13],[39,6,32,4],[39,10,32,8,"previous"],[39,18,32,16],[39,22,32,20],[39,26,32,20,"isRecordEqual"],[39,54,32,33],[39,56,32,34,"previous"],[39,64,32,42],[39,66,32,44,"routeWithoutState"],[39,83,32,61],[39,84,32,62],[39,86,32,64],[40,8,33,6],[41,8,34,6,"proxy"],[41,13,34,11],[41,16,34,14,"previous"],[41,24,34,22],[42,6,35,4],[42,7,35,5],[42,13,35,11],[43,8,36,6,"proxy"],[43,13,36,11],[43,16,36,14,"routeWithoutState"],[43,33,36,31],[44,6,37,4],[45,6,38,4],[45,10,38,8,"process"],[45,17,38,15],[45,18,38,16,"env"],[45,21,38,19],[45,22,38,20,"NODE_ENV"],[45,30,38,28],[45,35,38,33],[45,47,38,45],[45,49,38,47],[46,8,39,6],[47,8,40,6],[48,8,41,6],[48,13,41,11],[48,19,41,17,"key"],[48,22,41,20],[48,26,41,24,"proxy"],[48,31,41,29],[48,33,41,31],[49,10,42,8],[50,10,43,8],[50,16,43,14,"value"],[50,21,43,19],[50,24,43,22,"proxy"],[50,29,43,27],[50,30,43,28,"key"],[50,33,43,31],[50,34,43,32],[51,10,44,8,"Object"],[51,16,44,14],[51,17,44,15,"defineProperty"],[51,31,44,29],[51,32,44,30,"proxy"],[51,37,44,35],[51,39,44,37,"key"],[51,42,44,40],[51,44,44,42],[52,12,45,10,"enumerable"],[52,22,45,20],[52,24,45,22],[52,28,45,26],[53,12,46,10,"configurable"],[53,24,46,22],[53,26,46,24],[53,30,46,28],[54,12,47,10,"writable"],[54,20,47,18],[54,22,47,20],[54,27,47,25],[55,12,48,10,"value"],[56,10,49,8],[56,11,49,9],[56,12,49,10],[57,8,50,6],[58,6,51,4],[59,6,52,4,"Object"],[59,12,52,10],[59,13,52,11,"defineProperty"],[59,27,52,25],[59,28,52,26,"proxy"],[59,33,52,31],[59,35,52,33,"CHILD_STATE"],[59,46,52,44],[59,48,52,46],[60,8,53,6,"enumerable"],[60,18,53,16],[60,20,53,18],[60,25,53,23],[61,8,54,6,"configurable"],[61,20,54,18],[61,22,54,20],[61,26,54,24],[62,8,55,6,"value"],[62,13,55,11],[62,15,55,13,"state"],[63,6,56,4],[63,7,56,5],[63,8,56,6],[64,6,57,4,"acc"],[64,9,57,7],[64,10,57,8,"set"],[64,13,57,11],[64,14,57,12,"route"],[64,19,57,17],[64,20,57,18,"key"],[64,23,57,21],[64,25,57,23,"proxy"],[64,30,57,28],[64,31,57,29],[65,6,58,4],[65,13,58,11,"acc"],[65,16,58,14],[66,4,59,2],[66,5,59,3],[66,7,59,5],[66,11,59,9,"Map"],[66,14,59,12],[66,15,59,13],[66,16,59,14],[66,17,59,15],[67,4,60,2],[67,11,60,9,"Array"],[67,16,60,14],[67,17,60,15,"from"],[67,21,60,19],[67,22,60,20,"cache"],[67,27,60,25],[67,28,60,26,"current"],[67,35,60,33],[67,36,60,34,"values"],[67,42,60,40],[67,43,60,41],[67,44,60,42],[67,45,60,43],[68,2,61,0],[69,0,61,1],[69,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEK;GFkC;CDE"}},"type":"js/module"}]}