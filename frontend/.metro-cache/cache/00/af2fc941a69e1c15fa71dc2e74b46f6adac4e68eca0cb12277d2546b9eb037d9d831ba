{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":225},"end":{"line":13,"column":59,"index":284}}],"key":"7+Fs6fvkAbHB0IU2p+AMhuguGZA=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _NativeAnimatedHelper = _interopRequireDefault(require(_dependencyMap[1], \"../NativeAnimatedHelper\"));\n  var startNativeAnimationNextId = 1;\n\n  // Important note: start() and stop() will only be called at most once.\n  // Once an animation has been stopped or finished its course, it will\n  // not be reused.\n  class Animation {\n    start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {}\n    stop() {\n      if (this.__nativeId) {\n        _NativeAnimatedHelper.default.API.stopAnimation(this.__nativeId);\n      }\n    }\n    __getNativeAnimationConfig() {\n      // Subclasses that have corresponding animation implementation done in native\n      // should override this method\n      throw new Error('This animation type cannot be offloaded to native');\n    }\n    // Helper function for subclasses to make sure onEnd is only called once.\n    __debouncedOnEnd(result) {\n      var onEnd = this.__onEnd;\n      this.__onEnd = null;\n      onEnd && onEnd(result);\n    }\n    __startNativeAnimation(animatedValue) {\n      var startNativeAnimationWaitId = startNativeAnimationNextId + \":startAnimation\";\n      startNativeAnimationNextId += 1;\n      _NativeAnimatedHelper.default.API.setWaitingForIdentifier(startNativeAnimationWaitId);\n      try {\n        var config = this.__getNativeAnimationConfig();\n        animatedValue.__makeNative(config.platformConfig);\n        this.__nativeId = _NativeAnimatedHelper.default.generateNewAnimationId();\n        _NativeAnimatedHelper.default.API.startAnimatingNode(this.__nativeId, animatedValue.__getNativeTag(), config,\n        // $FlowFixMe[method-unbinding] added when improving typing for this parameters\n        this.__debouncedOnEnd.bind(this));\n      } catch (e) {\n        throw e;\n      } finally {\n        _NativeAnimatedHelper.default.API.unsetWaitingForIdentifier(startNativeAnimationWaitId);\n      }\n    }\n  }\n  var _default = exports.default = Animation;\n});","lineCount":62,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"require"],[14,38,11,13],[14,39,11,13,"_dependencyMap"],[14,53,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,13,0],[19,6,13,0,"_NativeAnimatedHelper"],[19,27,13,0],[19,30,13,0,"_interopRequireDefault"],[19,52,13,0],[19,53,13,0,"require"],[19,60,13,0],[19,61,13,0,"_dependencyMap"],[19,75,13,0],[20,2,14,0],[20,6,14,4,"startNativeAnimationNextId"],[20,32,14,30],[20,35,14,33],[20,36,14,34],[22,2,16,0],[23,2,17,0],[24,2,18,0],[25,2,19,0],[25,8,19,6,"Animation"],[25,17,19,15],[25,18,19,16],[26,4,20,2,"start"],[26,9,20,7,"start"],[26,10,20,8,"fromValue"],[26,19,20,17],[26,21,20,19,"onUpdate"],[26,29,20,27],[26,31,20,29,"onEnd"],[26,36,20,34],[26,38,20,36,"previousAnimation"],[26,55,20,53],[26,57,20,55,"animatedValue"],[26,70,20,68],[26,72,20,70],[26,73,20,71],[27,4,21,2,"stop"],[27,8,21,6,"stop"],[27,9,21,6],[27,11,21,9],[28,6,22,4],[28,10,22,8],[28,14,22,12],[28,15,22,13,"__nativeId"],[28,25,22,23],[28,27,22,25],[29,8,23,6,"NativeAnimatedHelper"],[29,37,23,26],[29,38,23,27,"API"],[29,41,23,30],[29,42,23,31,"stopAnimation"],[29,55,23,44],[29,56,23,45],[29,60,23,49],[29,61,23,50,"__nativeId"],[29,71,23,60],[29,72,23,61],[30,6,24,4],[31,4,25,2],[32,4,26,2,"__getNativeAnimationConfig"],[32,30,26,28,"__getNativeAnimationConfig"],[32,31,26,28],[32,33,26,31],[33,6,27,4],[34,6,28,4],[35,6,29,4],[35,12,29,10],[35,16,29,14,"Error"],[35,21,29,19],[35,22,29,20],[35,73,29,71],[35,74,29,72],[36,4,30,2],[37,4,31,2],[38,4,32,2,"__debouncedOnEnd"],[38,20,32,18,"__debouncedOnEnd"],[38,21,32,19,"result"],[38,27,32,25],[38,29,32,27],[39,6,33,4],[39,10,33,8,"onEnd"],[39,15,33,13],[39,18,33,16],[39,22,33,20],[39,23,33,21,"__onEnd"],[39,30,33,28],[40,6,34,4],[40,10,34,8],[40,11,34,9,"__onEnd"],[40,18,34,16],[40,21,34,19],[40,25,34,23],[41,6,35,4,"onEnd"],[41,11,35,9],[41,15,35,13,"onEnd"],[41,20,35,18],[41,21,35,19,"result"],[41,27,35,25],[41,28,35,26],[42,4,36,2],[43,4,37,2,"__startNativeAnimation"],[43,26,37,24,"__startNativeAnimation"],[43,27,37,25,"animatedValue"],[43,40,37,38],[43,42,37,40],[44,6,38,4],[44,10,38,8,"startNativeAnimationWaitId"],[44,36,38,34],[44,39,38,37,"startNativeAnimationNextId"],[44,65,38,63],[44,68,38,66],[44,85,38,83],[45,6,39,4,"startNativeAnimationNextId"],[45,32,39,30],[45,36,39,34],[45,37,39,35],[46,6,40,4,"NativeAnimatedHelper"],[46,35,40,24],[46,36,40,25,"API"],[46,39,40,28],[46,40,40,29,"setWaitingForIdentifier"],[46,63,40,52],[46,64,40,53,"startNativeAnimationWaitId"],[46,90,40,79],[46,91,40,80],[47,6,41,4],[47,10,41,8],[48,8,42,6],[48,12,42,10,"config"],[48,18,42,16],[48,21,42,19],[48,25,42,23],[48,26,42,24,"__getNativeAnimationConfig"],[48,52,42,50],[48,53,42,51],[48,54,42,52],[49,8,43,6,"animatedValue"],[49,21,43,19],[49,22,43,20,"__makeNative"],[49,34,43,32],[49,35,43,33,"config"],[49,41,43,39],[49,42,43,40,"platformConfig"],[49,56,43,54],[49,57,43,55],[50,8,44,6],[50,12,44,10],[50,13,44,11,"__nativeId"],[50,23,44,21],[50,26,44,24,"NativeAnimatedHelper"],[50,55,44,44],[50,56,44,45,"generateNewAnimationId"],[50,78,44,67],[50,79,44,68],[50,80,44,69],[51,8,45,6,"NativeAnimatedHelper"],[51,37,45,26],[51,38,45,27,"API"],[51,41,45,30],[51,42,45,31,"startAnimatingNode"],[51,60,45,49],[51,61,45,50],[51,65,45,54],[51,66,45,55,"__nativeId"],[51,76,45,65],[51,78,45,67,"animatedValue"],[51,91,45,80],[51,92,45,81,"__getNativeTag"],[51,106,45,95],[51,107,45,96],[51,108,45,97],[51,110,45,99,"config"],[51,116,45,105],[52,8,46,6],[53,8,47,6],[53,12,47,10],[53,13,47,11,"__debouncedOnEnd"],[53,29,47,27],[53,30,47,28,"bind"],[53,34,47,32],[53,35,47,33],[53,39,47,37],[53,40,47,38],[53,41,47,39],[54,6,48,4],[54,7,48,5],[54,8,48,6],[54,15,48,13,"e"],[54,16,48,14],[54,18,48,16],[55,8,49,6],[55,14,49,12,"e"],[55,15,49,13],[56,6,50,4],[56,7,50,5],[56,16,50,14],[57,8,51,6,"NativeAnimatedHelper"],[57,37,51,26],[57,38,51,27,"API"],[57,41,51,30],[57,42,51,31,"unsetWaitingForIdentifier"],[57,67,51,56],[57,68,51,57,"startNativeAnimationWaitId"],[57,94,51,83],[57,95,51,84],[58,6,52,4],[59,4,53,2],[60,2,54,0],[61,2,54,1],[61,6,54,1,"_default"],[61,14,54,1],[61,17,54,1,"exports"],[61,24,54,1],[61,25,54,1,"default"],[61,32,54,1],[61,35,55,15,"Animation"],[61,44,55,24],[62,0,55,24],[62,3]],"functionMap":{"names":["<global>","Animation","start","stop","__getNativeAnimationConfig","__debouncedOnEnd","__startNativeAnimation"],"mappings":"AAA;ACkB;ECC,sED;EEC;GFI;EGC;GHI;EIE;GJI;EKC;GLgB;CDC"}},"type":"js/module"}]}