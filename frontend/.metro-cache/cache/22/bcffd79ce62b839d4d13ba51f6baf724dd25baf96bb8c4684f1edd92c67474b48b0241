{"dependencies":[{"name":"../../../Libraries/Network/XMLHttpRequest","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":2},"end":{"line":16,"column":54}}],"key":"qNDGQJ0hVRex3vOJLGddOAHrNJY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var XMLHttpRequest = require(_dependencyMap[0], \"../../../Libraries/Network/XMLHttpRequest\").default;\n  var originalXHROpen = XMLHttpRequest.prototype.open;\n  var originalXHRSend = XMLHttpRequest.prototype.send;\n  var originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n  var openCallback;\n  var sendCallback;\n  var requestHeaderCallback;\n  var headerReceivedCallback;\n  var responseCallback;\n  var isInterceptorEnabled = false;\n  var XHRInterceptor = {\n    setOpenCallback(callback) {\n      openCallback = callback;\n    },\n    setSendCallback(callback) {\n      sendCallback = callback;\n    },\n    setHeaderReceivedCallback(callback) {\n      headerReceivedCallback = callback;\n    },\n    setResponseCallback(callback) {\n      responseCallback = callback;\n    },\n    setRequestHeaderCallback(callback) {\n      requestHeaderCallback = callback;\n    },\n    isInterceptorEnabled() {\n      return isInterceptorEnabled;\n    },\n    enableInterception() {\n      if (isInterceptorEnabled) {\n        return;\n      }\n      XMLHttpRequest.prototype.open = function (method, url) {\n        if (openCallback) {\n          openCallback(method, url, this);\n        }\n        originalXHROpen.apply(this, arguments);\n      };\n      XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n        if (requestHeaderCallback) {\n          requestHeaderCallback(header, value, this);\n        }\n        originalXHRSetRequestHeader.apply(this, arguments);\n      };\n      XMLHttpRequest.prototype.send = function (data) {\n        if (sendCallback) {\n          sendCallback(data, this);\n        }\n        if (this.addEventListener) {\n          this.addEventListener('readystatechange', () => {\n            if (!isInterceptorEnabled) {\n              return;\n            }\n            if (this.readyState === this.HEADERS_RECEIVED) {\n              var contentTypeString = this.getResponseHeader('Content-Type');\n              var contentLengthString = this.getResponseHeader('Content-Length');\n              var _responseContentType, _responseSize;\n              if (contentTypeString) {\n                _responseContentType = contentTypeString.split(';')[0];\n              }\n              if (contentLengthString) {\n                _responseSize = parseInt(contentLengthString, 10);\n              }\n              if (headerReceivedCallback) {\n                headerReceivedCallback(_responseContentType, _responseSize, this.getAllResponseHeaders(), this);\n              }\n            }\n            if (this.readyState === this.DONE) {\n              if (responseCallback) {\n                responseCallback(this.status, this.timeout, this.response, this.responseURL, this.responseType, this);\n              }\n            }\n          }, false);\n        }\n        originalXHRSend.apply(this, arguments);\n      };\n      isInterceptorEnabled = true;\n    },\n    disableInterception() {\n      if (!isInterceptorEnabled) {\n        return;\n      }\n      isInterceptorEnabled = false;\n      XMLHttpRequest.prototype.send = originalXHRSend;\n      XMLHttpRequest.prototype.open = originalXHROpen;\n      XMLHttpRequest.prototype.setRequestHeader = originalXHRSetRequestHeader;\n      responseCallback = null;\n      openCallback = null;\n      sendCallback = null;\n      headerReceivedCallback = null;\n      requestHeaderCallback = null;\n    }\n  };\n  var _default = XHRInterceptor;\n});","lineCount":108,"map":[[2,2,11,0],[2,14,11,12],[4,2,11,13,"Object"],[4,8,11,13],[4,9,11,13,"defineProperty"],[4,23,11,13],[4,24,11,13,"exports"],[4,31,11,13],[5,4,11,13,"value"],[5,9,11,13],[6,2,11,13],[7,2,217,0,"Object"],[7,8,217,0],[7,9,217,0,"defineProperty"],[7,23,217,0],[7,24,217,0,"exports"],[7,31,217,0],[8,4,217,0,"enumerable"],[8,14,217,0],[9,4,217,0,"get"],[9,7,217,0],[9,18,217,0,"get"],[9,19,217,0],[10,6,217,0],[10,13,217,0,"_default"],[10,21,217,0],[11,4,217,0],[12,2,217,0],[13,2,15,0],[13,6,15,6,"XMLHttpRequest"],[13,20,15,37],[13,23,16,2,"require"],[13,30,16,9],[13,31,16,9,"_dependencyMap"],[13,45,16,9],[13,93,16,53],[13,94,16,54],[13,95,16,55,"default"],[13,102,16,62],[14,2,18,0],[14,6,18,6,"originalXHROpen"],[14,21,18,21],[14,24,18,24,"XMLHttpRequest"],[14,38,18,38],[14,39,18,39,"prototype"],[14,48,18,48],[14,49,18,49,"open"],[14,53,18,53],[15,2,20,0],[15,6,20,6,"originalXHRSend"],[15,21,20,21],[15,24,20,24,"XMLHttpRequest"],[15,38,20,38],[15,39,20,39,"prototype"],[15,48,20,48],[15,49,20,49,"send"],[15,53,20,53],[16,2,22,0],[16,6,22,6,"originalXHRSetRequestHeader"],[16,33,22,33],[16,36,22,36,"XMLHttpRequest"],[16,50,22,50],[16,51,22,51,"prototype"],[16,60,22,60],[16,61,22,61,"setRequestHeader"],[16,77,22,77],[17,2,57,0],[17,6,57,4,"openCallback"],[17,18,57,51],[18,2,58,0],[18,6,58,4,"sendCallback"],[18,18,58,51],[19,2,59,0],[19,6,59,4,"requestHeaderCallback"],[19,27,59,69],[20,2,60,0],[20,6,60,4,"headerReceivedCallback"],[20,28,60,71],[21,2,61,0],[21,6,61,4,"responseCallback"],[21,22,61,59],[22,2,63,0],[22,6,63,4,"isInterceptorEnabled"],[22,26,63,24],[22,29,63,27],[22,34,63,32],[23,2,72,0],[23,6,72,6,"XHRInterceptor"],[23,20,72,20],[23,23,72,23],[24,4,76,2,"setOpenCallback"],[24,19,76,17,"setOpenCallback"],[24,20,76,18,"callback"],[24,28,76,54],[24,30,76,56],[25,6,77,4,"openCallback"],[25,18,77,16],[25,21,77,19,"callback"],[25,29,77,27],[26,4,78,2],[26,5,78,3],[27,4,83,2,"setSendCallback"],[27,19,83,17,"setSendCallback"],[27,20,83,18,"callback"],[27,28,83,54],[27,30,83,56],[28,6,84,4,"sendCallback"],[28,18,84,16],[28,21,84,19,"callback"],[28,29,84,27],[29,4,85,2],[29,5,85,3],[30,4,90,2,"setHeaderReceivedCallback"],[30,29,90,27,"setHeaderReceivedCallback"],[30,30,90,28,"callback"],[30,38,90,74],[30,40,90,76],[31,6,91,4,"headerReceivedCallback"],[31,28,91,26],[31,31,91,29,"callback"],[31,39,91,37],[32,4,92,2],[32,5,92,3],[33,4,97,2,"setResponseCallback"],[33,23,97,21,"setResponseCallback"],[33,24,97,22,"callback"],[33,32,97,62],[33,34,97,64],[34,6,98,4,"responseCallback"],[34,22,98,20],[34,25,98,23,"callback"],[34,33,98,31],[35,4,99,2],[35,5,99,3],[36,4,104,2,"setRequestHeaderCallback"],[36,28,104,26,"setRequestHeaderCallback"],[36,29,104,27,"callback"],[36,37,104,72],[36,39,104,74],[37,6,105,4,"requestHeaderCallback"],[37,27,105,25],[37,30,105,28,"callback"],[37,38,105,36],[38,4,106,2],[38,5,106,3],[39,4,108,2,"isInterceptorEnabled"],[39,24,108,22,"isInterceptorEnabled"],[39,25,108,22],[39,27,108,34],[40,6,109,4],[40,13,109,11,"isInterceptorEnabled"],[40,33,109,31],[41,4,110,2],[41,5,110,3],[42,4,112,2,"enableInterception"],[42,22,112,20,"enableInterception"],[42,23,112,20],[42,25,112,23],[43,6,113,4],[43,10,113,8,"isInterceptorEnabled"],[43,30,113,28],[43,32,113,30],[44,8,114,6],[45,6,115,4],[46,6,120,4,"XMLHttpRequest"],[46,20,120,18],[46,21,120,19,"prototype"],[46,30,120,28],[46,31,120,29,"open"],[46,35,120,33],[46,38,120,36],[46,48,120,46,"method"],[46,54,120,60],[46,56,120,62,"url"],[46,59,120,73],[46,61,120,75],[47,8,121,6],[47,12,121,10,"openCallback"],[47,24,121,22],[47,26,121,24],[48,10,122,8,"openCallback"],[48,22,122,20],[48,23,122,21,"method"],[48,29,122,27],[48,31,122,29,"url"],[48,34,122,32],[48,36,122,34],[48,40,122,38],[48,41,122,39],[49,8,123,6],[50,8,124,6,"originalXHROpen"],[50,23,124,21],[50,24,124,22,"apply"],[50,29,124,27],[50,30,124,28],[50,34,124,32],[50,36,124,34,"arguments"],[50,45,124,43],[50,46,124,44],[51,6,125,4],[51,7,125,5],[52,6,131,4,"XMLHttpRequest"],[52,20,131,18],[52,21,131,19,"prototype"],[52,30,131,28],[52,31,131,29,"setRequestHeader"],[52,47,131,45],[52,50,131,48],[52,60,132,6,"header"],[52,66,132,20],[52,68,133,6,"value"],[52,73,133,19],[52,75,134,6],[53,8,135,6],[53,12,135,10,"requestHeaderCallback"],[53,33,135,31],[53,35,135,33],[54,10,136,8,"requestHeaderCallback"],[54,31,136,29],[54,32,136,30,"header"],[54,38,136,36],[54,40,136,38,"value"],[54,45,136,43],[54,47,136,45],[54,51,136,49],[54,52,136,50],[55,8,137,6],[56,8,138,6,"originalXHRSetRequestHeader"],[56,35,138,33],[56,36,138,34,"apply"],[56,41,138,39],[56,42,138,40],[56,46,138,44],[56,48,138,46,"arguments"],[56,57,138,55],[56,58,138,56],[57,6,139,4],[57,7,139,5],[58,6,145,4,"XMLHttpRequest"],[58,20,145,18],[58,21,145,19,"prototype"],[58,30,145,28],[58,31,145,29,"send"],[58,35,145,33],[58,38,145,36],[58,48,145,46,"data"],[58,52,145,58],[58,54,145,60],[59,8,146,6],[59,12,146,10,"sendCallback"],[59,24,146,22],[59,26,146,24],[60,10,147,8,"sendCallback"],[60,22,147,20],[60,23,147,21,"data"],[60,27,147,25],[60,29,147,27],[60,33,147,31],[60,34,147,32],[61,8,148,6],[62,8,149,6],[62,12,149,10],[62,16,149,14],[62,17,149,15,"addEventListener"],[62,33,149,31],[62,35,149,33],[63,10,150,8],[63,14,150,12],[63,15,150,13,"addEventListener"],[63,31,150,29],[63,32,151,10],[63,50,151,28],[63,52,152,10],[63,58,152,16],[64,12,153,12],[64,16,153,16],[64,17,153,17,"isInterceptorEnabled"],[64,37,153,37],[64,39,153,39],[65,14,154,14],[66,12,155,12],[67,12,156,12],[67,16,156,16],[67,20,156,20],[67,21,156,21,"readyState"],[67,31,156,31],[67,36,156,36],[67,40,156,40],[67,41,156,41,"HEADERS_RECEIVED"],[67,57,156,57],[67,59,156,59],[68,14,157,14],[68,18,157,20,"contentTypeString"],[68,35,157,37],[68,38,157,40],[68,42,157,44],[68,43,157,45,"getResponseHeader"],[68,60,157,62],[68,61,157,63],[68,75,157,77],[68,76,157,78],[69,14,158,14],[69,18,158,20,"contentLengthString"],[69,37,158,39],[69,40,159,16],[69,44,159,20],[69,45,159,21,"getResponseHeader"],[69,62,159,38],[69,63,159,39],[69,79,159,55],[69,80,159,56],[70,14,160,14],[70,18,160,18,"responseContentType"],[70,38,160,37],[70,40,160,39,"responseSize"],[70,53,160,51],[71,14,161,14],[71,18,161,18,"contentTypeString"],[71,35,161,35],[71,37,161,37],[72,16,162,16,"responseContentType"],[72,36,162,35],[72,39,162,38,"contentTypeString"],[72,56,162,55],[72,57,162,56,"split"],[72,62,162,61],[72,63,162,62],[72,66,162,65],[72,67,162,66],[72,68,162,67],[72,69,162,68],[72,70,162,69],[73,14,163,14],[74,14,164,14],[74,18,164,18,"contentLengthString"],[74,37,164,37],[74,39,164,39],[75,16,165,16,"responseSize"],[75,29,165,28],[75,32,165,31,"parseInt"],[75,40,165,39],[75,41,165,40,"contentLengthString"],[75,60,165,59],[75,62,165,61],[75,64,165,63],[75,65,165,64],[76,14,166,14],[77,14,167,14],[77,18,167,18,"headerReceivedCallback"],[77,40,167,40],[77,42,167,42],[78,16,168,16,"headerReceivedCallback"],[78,38,168,38],[78,39,169,18,"responseContentType"],[78,59,169,37],[78,61,170,18,"responseSize"],[78,74,170,30],[78,76,171,18],[78,80,171,22],[78,81,171,23,"getAllResponseHeaders"],[78,102,171,44],[78,103,171,45],[78,104,171,46],[78,106,172,18],[78,110,173,16],[78,111,173,17],[79,14,174,14],[80,12,175,12],[81,12,176,12],[81,16,176,16],[81,20,176,20],[81,21,176,21,"readyState"],[81,31,176,31],[81,36,176,36],[81,40,176,40],[81,41,176,41,"DONE"],[81,45,176,45],[81,47,176,47],[82,14,177,14],[82,18,177,18,"responseCallback"],[82,34,177,34],[82,36,177,36],[83,16,178,16,"responseCallback"],[83,32,178,32],[83,33,179,18],[83,37,179,22],[83,38,179,23,"status"],[83,44,179,29],[83,46,180,18],[83,50,180,22],[83,51,180,23,"timeout"],[83,58,180,30],[83,60,181,18],[83,64,181,22],[83,65,181,23,"response"],[83,73,181,31],[83,75,182,18],[83,79,182,22],[83,80,182,23,"responseURL"],[83,91,182,34],[83,93,183,18],[83,97,183,22],[83,98,183,23,"responseType"],[83,110,183,35],[83,112,184,18],[83,116,185,16],[83,117,185,17],[84,14,186,14],[85,12,187,12],[86,10,188,10],[86,11,188,11],[86,13,189,10],[86,18,190,8],[86,19,190,9],[87,8,191,6],[88,8,192,6,"originalXHRSend"],[88,23,192,21],[88,24,192,22,"apply"],[88,29,192,27],[88,30,192,28],[88,34,192,32],[88,36,192,34,"arguments"],[88,45,192,43],[88,46,192,44],[89,6,193,4],[89,7,193,5],[90,6,194,4,"isInterceptorEnabled"],[90,26,194,24],[90,29,194,27],[90,33,194,31],[91,4,195,2],[91,5,195,3],[92,4,198,2,"disableInterception"],[92,23,198,21,"disableInterception"],[92,24,198,21],[92,26,198,24],[93,6,199,4],[93,10,199,8],[93,11,199,9,"isInterceptorEnabled"],[93,31,199,29],[93,33,199,31],[94,8,200,6],[95,6,201,4],[96,6,202,4,"isInterceptorEnabled"],[96,26,202,24],[96,29,202,27],[96,34,202,32],[97,6,204,4,"XMLHttpRequest"],[97,20,204,18],[97,21,204,19,"prototype"],[97,30,204,28],[97,31,204,29,"send"],[97,35,204,33],[97,38,204,36,"originalXHRSend"],[97,53,204,51],[98,6,206,4,"XMLHttpRequest"],[98,20,206,18],[98,21,206,19,"prototype"],[98,30,206,28],[98,31,206,29,"open"],[98,35,206,33],[98,38,206,36,"originalXHROpen"],[98,53,206,51],[99,6,208,4,"XMLHttpRequest"],[99,20,208,18],[99,21,208,19,"prototype"],[99,30,208,28],[99,31,208,29,"setRequestHeader"],[99,47,208,45],[99,50,208,48,"originalXHRSetRequestHeader"],[99,77,208,75],[100,6,209,4,"responseCallback"],[100,22,209,20],[100,25,209,23],[100,29,209,27],[101,6,210,4,"openCallback"],[101,18,210,16],[101,21,210,19],[101,25,210,23],[102,6,211,4,"sendCallback"],[102,18,211,16],[102,21,211,19],[102,25,211,23],[103,6,212,4,"headerReceivedCallback"],[103,28,212,26],[103,31,212,29],[103,35,212,33],[104,6,213,4,"requestHeaderCallback"],[104,27,213,25],[104,30,213,28],[104,34,213,32],[105,4,214,2],[106,2,215,0],[106,3,215,1],[107,2,217,0],[107,6,217,0,"_default"],[107,14,217,0],[107,17,217,15,"XHRInterceptor"],[107,31,217,29],[108,0,217,30],[108,3]],"functionMap":{"names":["<global>","setOpenCallback","setSendCallback","setHeaderReceivedCallback","setResponseCallback","setRequestHeaderCallback","isInterceptorEnabled","enableInterception","XMLHttpRequest.prototype.open","XMLHttpRequest.prototype.setRequestHeader","XMLHttpRequest.prototype.send","addEventListener$argument_1","disableInterception"],"mappings":"AAA;EC2E;GDE;EEK;GFE;EGK;GHE;EIK;GJE;EKK;GLE;EME;GNE;EOE;oCCQ;KDK;gDEM;KFQ;oCGM;UCO;WDoC;KHK;GPE;EYG;GZgB"},"hasCjsExports":false},"type":"js/module"}]}