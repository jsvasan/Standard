{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":52},"end":{"line":5,"column":65,"index":117}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // Copyright Â© 2024 650 Industries.\n\n  'use client';\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.createPermissionHook = createPermissionHook;\n  var _react = require(_dependencyMap[0], \"react\");\n  // These types are identical, but improves the readability for suggestions in editors\n\n  /**\n   * Get or request permission for protected functionality within the app.\n   * It uses separate permission requesters to interact with a single permission.\n   * By default, the hook will only retrieve the permission status.\n   */\n  function usePermission(methods, options) {\n    const isMounted = (0, _react.useRef)(true);\n    const [status, setStatus] = (0, _react.useState)(null);\n    const {\n      get = true,\n      request = false,\n      ...permissionOptions\n    } = options || {};\n    const getPermission = (0, _react.useCallback)(async () => {\n      let response;\n      if (Object.keys(permissionOptions).length > 0) {\n        response = await methods.getMethod(permissionOptions);\n      } else {\n        response = await methods.getMethod();\n      }\n      if (isMounted.current) setStatus(response);\n      return response;\n    }, [methods.getMethod]);\n    const requestPermission = (0, _react.useCallback)(async () => {\n      let response;\n      if (Object.keys(permissionOptions).length > 0) {\n        response = await methods.requestMethod(permissionOptions);\n      } else {\n        response = await methods.requestMethod();\n      }\n      if (isMounted.current) setStatus(response);\n      return response;\n    }, [methods.requestMethod]);\n    (0, _react.useEffect)(function runMethods() {\n      if (request) requestPermission();\n      if (!request && get) getPermission();\n    }, [get, request, requestPermission, getPermission]);\n\n    // Workaround for unmounting components receiving state updates\n    (0, _react.useEffect)(function didMount() {\n      isMounted.current = true;\n      return () => {\n        isMounted.current = false;\n      };\n    }, []);\n    return [status, requestPermission, getPermission];\n  }\n\n  /**\n   * Create a new permission hook with the permission methods built-in.\n   * This can be used to quickly create specific permission hooks in every module.\n   */\n  function createPermissionHook(methods) {\n    return options => usePermission(methods, options);\n  }\n});","lineCount":69,"map":[[2,2,1,0],[4,2,3,0],[4,14,3,12],[5,2,3,13],[7,2,3,13,"Object"],[7,8,3,13],[7,9,3,13,"defineProperty"],[7,23,3,13],[7,24,3,13,"exports"],[7,31,3,13],[8,4,3,13,"value"],[8,9,3,13],[9,2,3,13],[10,2,87,0,"exports"],[10,9,87,0],[10,10,87,0,"createPermissionHook"],[10,30,87,0],[10,33,87,0,"createPermissionHook"],[10,53,87,0],[11,2,5,0],[11,6,5,0,"_react"],[11,12,5,0],[11,15,5,0,"require"],[11,22,5,0],[11,23,5,0,"_dependencyMap"],[11,37,5,0],[12,2,9,0],[14,2,29,0],[15,0,30,0],[16,0,31,0],[17,0,32,0],[18,0,33,0],[19,2,34,0],[19,11,34,9,"usePermission"],[19,24,34,22,"usePermission"],[19,25,35,2,"methods"],[19,32,35,53],[19,34,36,2,"options"],[19,41,36,42],[19,43,37,93],[20,4,38,2],[20,10,38,8,"isMounted"],[20,19,38,17],[20,22,38,20],[20,26,38,20,"useRef"],[20,32,38,26],[20,33,38,26,"useRef"],[20,39,38,26],[20,41,38,27],[20,45,38,31],[20,46,38,32],[21,4,39,2],[21,10,39,8],[21,11,39,9,"status"],[21,17,39,15],[21,19,39,17,"setStatus"],[21,28,39,26],[21,29,39,27],[21,32,39,30],[21,36,39,30,"useState"],[21,42,39,38],[21,43,39,38,"useState"],[21,51,39,38],[21,53,39,58],[21,57,39,62],[21,58,39,63],[22,4,40,2],[22,10,40,8],[23,6,40,10,"get"],[23,9,40,13],[23,12,40,16],[23,16,40,20],[24,6,40,22,"request"],[24,13,40,29],[24,16,40,32],[24,21,40,37],[25,6,40,39],[25,9,40,42,"permissionOptions"],[26,4,40,60],[26,5,40,61],[26,8,40,64,"options"],[26,15,40,71],[26,19,40,75],[26,20,40,76],[26,21,40,77],[27,4,42,2],[27,10,42,8,"getPermission"],[27,23,42,21],[27,26,42,24],[27,30,42,24,"useCallback"],[27,36,42,35],[27,37,42,35,"useCallback"],[27,48,42,35],[27,50,42,36],[27,62,42,48],[28,6,43,4],[28,10,43,8,"response"],[28,18,43,28],[29,6,44,4],[29,10,44,8,"Object"],[29,16,44,14],[29,17,44,15,"keys"],[29,21,44,19],[29,22,44,20,"permissionOptions"],[29,39,44,37],[29,40,44,38],[29,41,44,39,"length"],[29,47,44,45],[29,50,44,48],[29,51,44,49],[29,53,44,51],[30,8,45,6,"response"],[30,16,45,14],[30,19,45,17],[30,25,45,23,"methods"],[30,32,45,30],[30,33,45,31,"getMethod"],[30,42,45,40],[30,43,45,41,"permissionOptions"],[30,60,45,69],[30,61,45,70],[31,6,46,4],[31,7,46,5],[31,13,46,11],[32,8,47,6,"response"],[32,16,47,14],[32,19,47,17],[32,25,47,23,"methods"],[32,32,47,30],[32,33,47,31,"getMethod"],[32,42,47,40],[32,43,47,41],[32,44,47,42],[33,6,48,4],[34,6,49,4],[34,10,49,8,"isMounted"],[34,19,49,17],[34,20,49,18,"current"],[34,27,49,25],[34,29,49,27,"setStatus"],[34,38,49,36],[34,39,49,37,"response"],[34,47,49,45],[34,48,49,46],[35,6,50,4],[35,13,50,11,"response"],[35,21,50,19],[36,4,51,2],[36,5,51,3],[36,7,51,5],[36,8,51,6,"methods"],[36,15,51,13],[36,16,51,14,"getMethod"],[36,25,51,23],[36,26,51,24],[36,27,51,25],[37,4,53,2],[37,10,53,8,"requestPermission"],[37,27,53,25],[37,30,53,28],[37,34,53,28,"useCallback"],[37,40,53,39],[37,41,53,39,"useCallback"],[37,52,53,39],[37,54,53,40],[37,66,53,52],[38,6,54,4],[38,10,54,8,"response"],[38,18,54,28],[39,6,55,4],[39,10,55,8,"Object"],[39,16,55,14],[39,17,55,15,"keys"],[39,21,55,19],[39,22,55,20,"permissionOptions"],[39,39,55,37],[39,40,55,38],[39,41,55,39,"length"],[39,47,55,45],[39,50,55,48],[39,51,55,49],[39,53,55,51],[40,8,56,6,"response"],[40,16,56,14],[40,19,56,17],[40,25,56,23,"methods"],[40,32,56,30],[40,33,56,31,"requestMethod"],[40,46,56,44],[40,47,56,45,"permissionOptions"],[40,64,56,73],[40,65,56,74],[41,6,57,4],[41,7,57,5],[41,13,57,11],[42,8,58,6,"response"],[42,16,58,14],[42,19,58,17],[42,25,58,23,"methods"],[42,32,58,30],[42,33,58,31,"requestMethod"],[42,46,58,44],[42,47,58,45],[42,48,58,46],[43,6,59,4],[44,6,60,4],[44,10,60,8,"isMounted"],[44,19,60,17],[44,20,60,18,"current"],[44,27,60,25],[44,29,60,27,"setStatus"],[44,38,60,36],[44,39,60,37,"response"],[44,47,60,45],[44,48,60,46],[45,6,61,4],[45,13,61,11,"response"],[45,21,61,19],[46,4,62,2],[46,5,62,3],[46,7,62,5],[46,8,62,6,"methods"],[46,15,62,13],[46,16,62,14,"requestMethod"],[46,29,62,27],[46,30,62,28],[46,31,62,29],[47,4,64,2],[47,8,64,2,"useEffect"],[47,14,64,11],[47,15,64,11,"useEffect"],[47,24,64,11],[47,26,65,4],[47,35,65,13,"runMethods"],[47,45,65,23,"runMethods"],[47,46,65,23],[47,48,65,26],[48,6,66,6],[48,10,66,10,"request"],[48,17,66,17],[48,19,66,19,"requestPermission"],[48,36,66,36],[48,37,66,37],[48,38,66,38],[49,6,67,6],[49,10,67,10],[49,11,67,11,"request"],[49,18,67,18],[49,22,67,22,"get"],[49,25,67,25],[49,27,67,27,"getPermission"],[49,40,67,40],[49,41,67,41],[49,42,67,42],[50,4,68,4],[50,5,68,5],[50,7,69,4],[50,8,69,5,"get"],[50,11,69,8],[50,13,69,10,"request"],[50,20,69,17],[50,22,69,19,"requestPermission"],[50,39,69,36],[50,41,69,38,"getPermission"],[50,54,69,51],[50,55,70,2],[50,56,70,3],[52,4,72,2],[53,4,73,2],[53,8,73,2,"useEffect"],[53,14,73,11],[53,15,73,11,"useEffect"],[53,24,73,11],[53,26,73,12],[53,35,73,21,"didMount"],[53,43,73,29,"didMount"],[53,44,73,29],[53,46,73,32],[54,6,74,4,"isMounted"],[54,15,74,13],[54,16,74,14,"current"],[54,23,74,21],[54,26,74,24],[54,30,74,28],[55,6,75,4],[55,13,75,11],[55,19,75,17],[56,8,76,6,"isMounted"],[56,17,76,15],[56,18,76,16,"current"],[56,25,76,23],[56,28,76,26],[56,33,76,31],[57,6,77,4],[57,7,77,5],[58,4,78,2],[58,5,78,3],[58,7,78,5],[58,9,78,7],[58,10,78,8],[59,4,80,2],[59,11,80,9],[59,12,80,10,"status"],[59,18,80,16],[59,20,80,18,"requestPermission"],[59,37,80,35],[59,39,80,37,"getPermission"],[59,52,80,50],[59,53,80,51],[60,2,81,0],[62,2,83,0],[63,0,84,0],[64,0,85,0],[65,0,86,0],[66,2,87,7],[66,11,87,16,"createPermissionHook"],[66,31,87,36,"createPermissionHook"],[66,32,88,2,"methods"],[66,39,88,53],[66,41,89,2],[67,4,90,2],[67,11,90,10,"options"],[67,18,90,50],[67,22,91,4,"usePermission"],[67,35,91,17],[67,36,91,39,"methods"],[67,43,91,46],[67,45,91,48,"options"],[67,52,91,55],[67,53,91,56],[68,2,92,0],[69,0,92,1],[69,3]],"functionMap":{"names":["<global>","usePermission","getPermission","requestPermission","runMethods","didMount","<anonymous>","createPermissionHook"],"mappings":"AAA;ACiC;oCCQ;GDS;wCEE;GFS;IGG;KHG;YIK;WCE;KDE;GJC;CDG;OOM;SDG;wDCC;CPC"},"hasCjsExports":false},"type":"js/module"}]}