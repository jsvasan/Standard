{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useEventEmitter = useEventEmitter;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  /**\n   * Hook to manage the event system used by the navigator to notify screens of various events.\n   */\n  function useEventEmitter(listen) {\n    const listenRef = React.useRef(listen);\n    React.useEffect(() => {\n      listenRef.current = listen;\n    });\n    const listeners = React.useRef(Object.create(null));\n    const create = React.useCallback(target => {\n      const removeListener = (type, callback) => {\n        const callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n        if (!callbacks) {\n          return;\n        }\n        const index = callbacks.indexOf(callback);\n        if (index > -1) {\n          callbacks.splice(index, 1);\n        }\n      };\n      const addListener = (type, callback) => {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        let removed = false;\n        return () => {\n          // Prevent removing other listeners when unsubscribing same listener multiple times\n          if (!removed) {\n            removed = true;\n            removeListener(type, callback);\n          }\n        };\n      };\n      return {\n        addListener,\n        removeListener\n      };\n    }, []);\n    const emit = React.useCallback(({\n      type,\n      data,\n      target,\n      canPreventDefault\n    }) => {\n      const items = listeners.current[type] || {};\n\n      // Copy the current list of callbacks in case they are mutated during execution\n      const callbacks = target !== undefined ? items[target]?.slice() : [].concat(...Object.keys(items).map(t => items[t])).filter((cb, i, self) => self.lastIndexOf(cb) === i);\n      const event = {\n        get type() {\n          return type;\n        }\n      };\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get() {\n            return target;\n          }\n        });\n      }\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get() {\n            return data;\n          }\n        });\n      }\n      if (canPreventDefault) {\n        let defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n      listenRef.current?.(event);\n      callbacks?.forEach(cb => cb(event));\n      return event;\n    }, []);\n    return React.useMemo(() => ({\n      create,\n      emit\n    }), [create, emit]);\n  }\n});","lineCount":120,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,7,0,"exports"],[22,9,7,0],[22,10,7,0,"useEventEmitter"],[22,25,7,0],[22,28,7,0,"useEventEmitter"],[22,43,7,0],[23,2,3,0],[23,6,3,0,"_react"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"React"],[24,11,3,0],[24,14,3,0,"_interopNamespace"],[24,31,3,0],[24,32,3,0,"_react"],[24,38,3,0],[25,2,4,0],[26,0,5,0],[27,0,6,0],[28,2,7,7],[28,11,7,16,"useEventEmitter"],[28,26,7,31,"useEventEmitter"],[28,27,7,32,"listen"],[28,33,7,38],[28,35,7,40],[29,4,8,2],[29,10,8,8,"listenRef"],[29,19,8,17],[29,22,8,20,"React"],[29,27,8,25],[29,28,8,26,"useRef"],[29,34,8,32],[29,35,8,33,"listen"],[29,41,8,39],[29,42,8,40],[30,4,9,2,"React"],[30,9,9,7],[30,10,9,8,"useEffect"],[30,19,9,17],[30,20,9,18],[30,26,9,24],[31,6,10,4,"listenRef"],[31,15,10,13],[31,16,10,14,"current"],[31,23,10,21],[31,26,10,24,"listen"],[31,32,10,30],[32,4,11,2],[32,5,11,3],[32,6,11,4],[33,4,12,2],[33,10,12,8,"listeners"],[33,19,12,17],[33,22,12,20,"React"],[33,27,12,25],[33,28,12,26,"useRef"],[33,34,12,32],[33,35,12,33,"Object"],[33,41,12,39],[33,42,12,40,"create"],[33,48,12,46],[33,49,12,47],[33,53,12,51],[33,54,12,52],[33,55,12,53],[34,4,13,2],[34,10,13,8,"create"],[34,16,13,14],[34,19,13,17,"React"],[34,24,13,22],[34,25,13,23,"useCallback"],[34,36,13,34],[34,37,13,35,"target"],[34,43,13,41],[34,47,13,45],[35,6,14,4],[35,12,14,10,"removeListener"],[35,26,14,24],[35,29,14,27,"removeListener"],[35,30,14,28,"type"],[35,34,14,32],[35,36,14,34,"callback"],[35,44,14,42],[35,49,14,47],[36,8,15,6],[36,14,15,12,"callbacks"],[36,23,15,21],[36,26,15,24,"listeners"],[36,35,15,33],[36,36,15,34,"current"],[36,43,15,41],[36,44,15,42,"type"],[36,48,15,46],[36,49,15,47],[36,52,15,50,"listeners"],[36,61,15,59],[36,62,15,60,"current"],[36,69,15,67],[36,70,15,68,"type"],[36,74,15,72],[36,75,15,73],[36,76,15,74,"target"],[36,82,15,80],[36,83,15,81],[36,86,15,84,"undefined"],[36,95,15,93],[37,8,16,6],[37,12,16,10],[37,13,16,11,"callbacks"],[37,22,16,20],[37,24,16,22],[38,10,17,8],[39,8,18,6],[40,8,19,6],[40,14,19,12,"index"],[40,19,19,17],[40,22,19,20,"callbacks"],[40,31,19,29],[40,32,19,30,"indexOf"],[40,39,19,37],[40,40,19,38,"callback"],[40,48,19,46],[40,49,19,47],[41,8,20,6],[41,12,20,10,"index"],[41,17,20,15],[41,20,20,18],[41,21,20,19],[41,22,20,20],[41,24,20,22],[42,10,21,8,"callbacks"],[42,19,21,17],[42,20,21,18,"splice"],[42,26,21,24],[42,27,21,25,"index"],[42,32,21,30],[42,34,21,32],[42,35,21,33],[42,36,21,34],[43,8,22,6],[44,6,23,4],[44,7,23,5],[45,6,24,4],[45,12,24,10,"addListener"],[45,23,24,21],[45,26,24,24,"addListener"],[45,27,24,25,"type"],[45,31,24,29],[45,33,24,31,"callback"],[45,41,24,39],[45,46,24,44],[46,8,25,6,"listeners"],[46,17,25,15],[46,18,25,16,"current"],[46,25,25,23],[46,26,25,24,"type"],[46,30,25,28],[46,31,25,29],[46,34,25,32,"listeners"],[46,43,25,41],[46,44,25,42,"current"],[46,51,25,49],[46,52,25,50,"type"],[46,56,25,54],[46,57,25,55],[46,61,25,59],[46,62,25,60],[46,63,25,61],[47,8,26,6,"listeners"],[47,17,26,15],[47,18,26,16,"current"],[47,25,26,23],[47,26,26,24,"type"],[47,30,26,28],[47,31,26,29],[47,32,26,30,"target"],[47,38,26,36],[47,39,26,37],[47,42,26,40,"listeners"],[47,51,26,49],[47,52,26,50,"current"],[47,59,26,57],[47,60,26,58,"type"],[47,64,26,62],[47,65,26,63],[47,66,26,64,"target"],[47,72,26,70],[47,73,26,71],[47,77,26,75],[47,79,26,77],[48,8,27,6,"listeners"],[48,17,27,15],[48,18,27,16,"current"],[48,25,27,23],[48,26,27,24,"type"],[48,30,27,28],[48,31,27,29],[48,32,27,30,"target"],[48,38,27,36],[48,39,27,37],[48,40,27,38,"push"],[48,44,27,42],[48,45,27,43,"callback"],[48,53,27,51],[48,54,27,52],[49,8,28,6],[49,12,28,10,"removed"],[49,19,28,17],[49,22,28,20],[49,27,28,25],[50,8,29,6],[50,15,29,13],[50,21,29,19],[51,10,30,8],[52,10,31,8],[52,14,31,12],[52,15,31,13,"removed"],[52,22,31,20],[52,24,31,22],[53,12,32,10,"removed"],[53,19,32,17],[53,22,32,20],[53,26,32,24],[54,12,33,10,"removeListener"],[54,26,33,24],[54,27,33,25,"type"],[54,31,33,29],[54,33,33,31,"callback"],[54,41,33,39],[54,42,33,40],[55,10,34,8],[56,8,35,6],[56,9,35,7],[57,6,36,4],[57,7,36,5],[58,6,37,4],[58,13,37,11],[59,8,38,6,"addListener"],[59,19,38,17],[60,8,39,6,"removeListener"],[61,6,40,4],[61,7,40,5],[62,4,41,2],[62,5,41,3],[62,7,41,5],[62,9,41,7],[62,10,41,8],[63,4,42,2],[63,10,42,8,"emit"],[63,14,42,12],[63,17,42,15,"React"],[63,22,42,20],[63,23,42,21,"useCallback"],[63,34,42,32],[63,35,42,33],[63,36,42,34],[64,6,43,4,"type"],[64,10,43,8],[65,6,44,4,"data"],[65,10,44,8],[66,6,45,4,"target"],[66,12,45,10],[67,6,46,4,"canPreventDefault"],[68,4,47,2],[68,5,47,3],[68,10,47,8],[69,6,48,4],[69,12,48,10,"items"],[69,17,48,15],[69,20,48,18,"listeners"],[69,29,48,27],[69,30,48,28,"current"],[69,37,48,35],[69,38,48,36,"type"],[69,42,48,40],[69,43,48,41],[69,47,48,45],[69,48,48,46],[69,49,48,47],[71,6,50,4],[72,6,51,4],[72,12,51,10,"callbacks"],[72,21,51,19],[72,24,51,22,"target"],[72,30,51,28],[72,35,51,33,"undefined"],[72,44,51,42],[72,47,51,45,"items"],[72,52,51,50],[72,53,51,51,"target"],[72,59,51,57],[72,60,51,58],[72,62,51,60,"slice"],[72,67,51,65],[72,68,51,66],[72,69,51,67],[72,72,51,70],[72,74,51,72],[72,75,51,73,"concat"],[72,81,51,79],[72,82,51,80],[72,85,51,83,"Object"],[72,91,51,89],[72,92,51,90,"keys"],[72,96,51,94],[72,97,51,95,"items"],[72,102,51,100],[72,103,51,101],[72,104,51,102,"map"],[72,107,51,105],[72,108,51,106,"t"],[72,109,51,107],[72,113,51,111,"items"],[72,118,51,116],[72,119,51,117,"t"],[72,120,51,118],[72,121,51,119],[72,122,51,120],[72,123,51,121],[72,124,51,122,"filter"],[72,130,51,128],[72,131,51,129],[72,132,51,130,"cb"],[72,134,51,132],[72,136,51,134,"i"],[72,137,51,135],[72,139,51,137,"self"],[72,143,51,141],[72,148,51,146,"self"],[72,152,51,150],[72,153,51,151,"lastIndexOf"],[72,164,51,162],[72,165,51,163,"cb"],[72,167,51,165],[72,168,51,166],[72,173,51,171,"i"],[72,174,51,172],[72,175,51,173],[73,6,52,4],[73,12,52,10,"event"],[73,17,52,15],[73,20,52,18],[74,8,53,6],[74,12,53,10,"type"],[74,16,53,14,"type"],[74,17,53,14],[74,19,53,17],[75,10,54,8],[75,17,54,15,"type"],[75,21,54,19],[76,8,55,6],[77,6,56,4],[77,7,56,5],[78,6,57,4],[78,10,57,8,"target"],[78,16,57,14],[78,21,57,19,"undefined"],[78,30,57,28],[78,32,57,30],[79,8,58,6,"Object"],[79,14,58,12],[79,15,58,13,"defineProperty"],[79,29,58,27],[79,30,58,28,"event"],[79,35,58,33],[79,37,58,35],[79,45,58,43],[79,47,58,45],[80,10,59,8,"enumerable"],[80,20,59,18],[80,22,59,20],[80,26,59,24],[81,10,60,8,"get"],[81,13,60,11,"get"],[81,14,60,11],[81,16,60,14],[82,12,61,10],[82,19,61,17,"target"],[82,25,61,23],[83,10,62,8],[84,8,63,6],[84,9,63,7],[84,10,63,8],[85,6,64,4],[86,6,65,4],[86,10,65,8,"data"],[86,14,65,12],[86,19,65,17,"undefined"],[86,28,65,26],[86,30,65,28],[87,8,66,6,"Object"],[87,14,66,12],[87,15,66,13,"defineProperty"],[87,29,66,27],[87,30,66,28,"event"],[87,35,66,33],[87,37,66,35],[87,43,66,41],[87,45,66,43],[88,10,67,8,"enumerable"],[88,20,67,18],[88,22,67,20],[88,26,67,24],[89,10,68,8,"get"],[89,13,68,11,"get"],[89,14,68,11],[89,16,68,14],[90,12,69,10],[90,19,69,17,"data"],[90,23,69,21],[91,10,70,8],[92,8,71,6],[92,9,71,7],[92,10,71,8],[93,6,72,4],[94,6,73,4],[94,10,73,8,"canPreventDefault"],[94,27,73,25],[94,29,73,27],[95,8,74,6],[95,12,74,10,"defaultPrevented"],[95,28,74,26],[95,31,74,29],[95,36,74,34],[96,8,75,6,"Object"],[96,14,75,12],[96,15,75,13,"defineProperties"],[96,31,75,29],[96,32,75,30,"event"],[96,37,75,35],[96,39,75,37],[97,10,76,8,"defaultPrevented"],[97,26,76,24],[97,28,76,26],[98,12,77,10,"enumerable"],[98,22,77,20],[98,24,77,22],[98,28,77,26],[99,12,78,10,"get"],[99,15,78,13,"get"],[99,16,78,13],[99,18,78,16],[100,14,79,12],[100,21,79,19,"defaultPrevented"],[100,37,79,35],[101,12,80,10],[102,10,81,8],[102,11,81,9],[103,10,82,8,"preventDefault"],[103,24,82,22],[103,26,82,24],[104,12,83,10,"enumerable"],[104,22,83,20],[104,24,83,22],[104,28,83,26],[105,12,84,10,"value"],[105,17,84,15,"value"],[105,18,84,15],[105,20,84,18],[106,14,85,12,"defaultPrevented"],[106,30,85,28],[106,33,85,31],[106,37,85,35],[107,12,86,10],[108,10,87,8],[109,8,88,6],[109,9,88,7],[109,10,88,8],[110,6,89,4],[111,6,90,4,"listenRef"],[111,15,90,13],[111,16,90,14,"current"],[111,23,90,21],[111,26,90,24,"event"],[111,31,90,29],[111,32,90,30],[112,6,91,4,"callbacks"],[112,15,91,13],[112,17,91,15,"forEach"],[112,24,91,22],[112,25,91,23,"cb"],[112,27,91,25],[112,31,91,29,"cb"],[112,33,91,31],[112,34,91,32,"event"],[112,39,91,37],[112,40,91,38],[112,41,91,39],[113,6,92,4],[113,13,92,11,"event"],[113,18,92,16],[114,4,93,2],[114,5,93,3],[114,7,93,5],[114,9,93,7],[114,10,93,8],[115,4,94,2],[115,11,94,9,"React"],[115,16,94,14],[115,17,94,15,"useMemo"],[115,24,94,22],[115,25,94,23],[115,32,94,30],[116,6,95,4,"create"],[116,12,95,10],[117,6,96,4,"emit"],[118,4,97,2],[118,5,97,3],[118,6,97,4],[118,8,97,6],[118,9,97,7,"create"],[118,15,97,13],[118,17,97,15,"emit"],[118,21,97,19],[118,22,97,20],[118,23,97,21],[119,2,98,0],[120,0,98,1],[120,3]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","create","removeListener","addListener","<anonymous>","emit","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","callbacks.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;OCM;kBCE;GDE;mCEE;2BCC;KDS;wBEC;aCK;ODM;KFC;GFK;iCMC;0GCS,aD,UE,2CF;MGE;OHE;QIK;SJE;QIM;SJE;UKQ;WLE;UMI;WNE;uBOK,eP;GNE;uBcC;IdG;CDC"},"hasCjsExports":false},"type":"js/module"}]}