{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useOptionsGetters = useOptionsGetters;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContextJs = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContextJs = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function useOptionsGetters({\n    key,\n    options,\n    navigation\n  }) {\n    const optionsRef = React.useRef(options);\n    const optionsGettersFromChildRef = React.useRef({});\n    const {\n      onOptionsChange\n    } = React.useContext(_NavigationBuilderContextJs.NavigationBuilderContext);\n    const {\n      addOptionsGetter: parentAddOptionsGetter\n    } = React.useContext(_NavigationStateContextJs.NavigationStateContext);\n    const optionsChangeListener = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      const hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    const getOptionsFromListener = React.useCallback(() => {\n      for (const key in optionsGettersFromChildRef.current) {\n        if (key in optionsGettersFromChildRef.current) {\n          const result = optionsGettersFromChildRef.current[key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    const getCurrentOptions = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      const optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    const addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":93,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,6,0,"exports"],[22,9,6,0],[22,10,6,0,"useOptionsGetters"],[22,27,6,0],[22,30,6,0,"useOptionsGetters"],[22,47,6,0],[23,2,3,0],[23,6,3,0,"_react"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"React"],[24,11,3,0],[24,14,3,0,"_interopNamespace"],[24,31,3,0],[24,32,3,0,"_react"],[24,38,3,0],[25,2,4,0],[25,6,4,0,"_NavigationBuilderContextJs"],[25,33,4,0],[25,36,4,0,"require"],[25,43,4,0],[25,44,4,0,"_dependencyMap"],[25,58,4,0],[26,2,5,0],[26,6,5,0,"_NavigationStateContextJs"],[26,31,5,0],[26,34,5,0,"require"],[26,41,5,0],[26,42,5,0,"_dependencyMap"],[26,56,5,0],[27,2,6,7],[27,11,6,16,"useOptionsGetters"],[27,28,6,33,"useOptionsGetters"],[27,29,6,34],[28,4,7,2,"key"],[28,7,7,5],[29,4,8,2,"options"],[29,11,8,9],[30,4,9,2,"navigation"],[31,2,10,0],[31,3,10,1],[31,5,10,3],[32,4,11,2],[32,10,11,8,"optionsRef"],[32,20,11,18],[32,23,11,21,"React"],[32,28,11,26],[32,29,11,27,"useRef"],[32,35,11,33],[32,36,11,34,"options"],[32,43,11,41],[32,44,11,42],[33,4,12,2],[33,10,12,8,"optionsGettersFromChildRef"],[33,36,12,34],[33,39,12,37,"React"],[33,44,12,42],[33,45,12,43,"useRef"],[33,51,12,49],[33,52,12,50],[33,53,12,51],[33,54,12,52],[33,55,12,53],[34,4,13,2],[34,10,13,8],[35,6,14,4,"onOptionsChange"],[36,4,15,2],[36,5,15,3],[36,8,15,6,"React"],[36,13,15,11],[36,14,15,12,"useContext"],[36,24,15,22],[36,25,15,23,"NavigationBuilderContext"],[36,52,15,47],[36,53,15,47,"NavigationBuilderContext"],[36,77,15,47],[36,78,15,48],[37,4,16,2],[37,10,16,8],[38,6,17,4,"addOptionsGetter"],[38,22,17,20],[38,24,17,22,"parentAddOptionsGetter"],[39,4,18,2],[39,5,18,3],[39,8,18,6,"React"],[39,13,18,11],[39,14,18,12,"useContext"],[39,24,18,22],[39,25,18,23,"NavigationStateContext"],[39,50,18,45],[39,51,18,45,"NavigationStateContext"],[39,73,18,45],[39,74,18,46],[40,4,19,2],[40,10,19,8,"optionsChangeListener"],[40,31,19,29],[40,34,19,32,"React"],[40,39,19,37],[40,40,19,38,"useCallback"],[40,51,19,49],[40,52,19,50],[40,58,19,56],[41,6,20,4],[41,12,20,10,"isFocused"],[41,21,20,19],[41,24,20,22,"navigation"],[41,34,20,32],[41,36,20,34,"isFocused"],[41,45,20,43],[41,46,20,44],[41,47,20,45],[41,51,20,49],[41,55,20,53],[42,6,21,4],[42,12,21,10,"hasChildren"],[42,23,21,21],[42,26,21,24,"Object"],[42,32,21,30],[42,33,21,31,"keys"],[42,37,21,35],[42,38,21,36,"optionsGettersFromChildRef"],[42,64,21,62],[42,65,21,63,"current"],[42,72,21,70],[42,73,21,71],[42,74,21,72,"length"],[42,80,21,78],[43,6,22,4],[43,10,22,8,"isFocused"],[43,19,22,17],[43,23,22,21],[43,24,22,22,"hasChildren"],[43,35,22,33],[43,37,22,35],[44,8,23,6,"onOptionsChange"],[44,23,23,21],[44,24,23,22,"optionsRef"],[44,34,23,32],[44,35,23,33,"current"],[44,42,23,40],[44,46,23,44],[44,47,23,45],[44,48,23,46],[44,49,23,47],[45,6,24,4],[46,4,25,2],[46,5,25,3],[46,7,25,5],[46,8,25,6,"navigation"],[46,18,25,16],[46,20,25,18,"onOptionsChange"],[46,35,25,33],[46,36,25,34],[46,37,25,35],[47,4,26,2,"React"],[47,9,26,7],[47,10,26,8,"useEffect"],[47,19,26,17],[47,20,26,18],[47,26,26,24],[48,6,27,4,"optionsRef"],[48,16,27,14],[48,17,27,15,"current"],[48,24,27,22],[48,27,27,25,"options"],[48,34,27,32],[49,6,28,4,"optionsChangeListener"],[49,27,28,25],[49,28,28,26],[49,29,28,27],[50,6,29,4],[50,13,29,11,"navigation"],[50,23,29,21],[50,25,29,23,"addListener"],[50,36,29,34],[50,37,29,35],[50,44,29,42],[50,46,29,44,"optionsChangeListener"],[50,67,29,65],[50,68,29,66],[51,4,30,2],[51,5,30,3],[51,7,30,5],[51,8,30,6,"navigation"],[51,18,30,16],[51,20,30,18,"options"],[51,27,30,25],[51,29,30,27,"optionsChangeListener"],[51,50,30,48],[51,51,30,49],[51,52,30,50],[52,4,31,2],[52,10,31,8,"getOptionsFromListener"],[52,32,31,30],[52,35,31,33,"React"],[52,40,31,38],[52,41,31,39,"useCallback"],[52,52,31,50],[52,53,31,51],[52,59,31,57],[53,6,32,4],[53,11,32,9],[53,17,32,15,"key"],[53,20,32,18],[53,24,32,22,"optionsGettersFromChildRef"],[53,50,32,48],[53,51,32,49,"current"],[53,58,32,56],[53,60,32,58],[54,8,33,6],[54,12,33,10,"key"],[54,15,33,13],[54,19,33,17,"optionsGettersFromChildRef"],[54,45,33,43],[54,46,33,44,"current"],[54,53,33,51],[54,55,33,53],[55,10,34,8],[55,16,34,14,"result"],[55,22,34,20],[55,25,34,23,"optionsGettersFromChildRef"],[55,51,34,49],[55,52,34,50,"current"],[55,59,34,57],[55,60,34,58,"key"],[55,63,34,61],[55,64,34,62],[55,67,34,65],[55,68,34,66],[57,10,36,8],[58,10,37,8],[58,14,37,12,"result"],[58,20,37,18],[58,25,37,23],[58,29,37,27],[58,31,37,29],[59,12,38,10],[59,19,38,17,"result"],[59,25,38,23],[60,10,39,8],[61,8,40,6],[62,6,41,4],[63,6,42,4],[63,13,42,11],[63,17,42,15],[64,4,43,2],[64,5,43,3],[64,7,43,5],[64,9,43,7],[64,10,43,8],[65,4,44,2],[65,10,44,8,"getCurrentOptions"],[65,27,44,25],[65,30,44,28,"React"],[65,35,44,33],[65,36,44,34,"useCallback"],[65,47,44,45],[65,48,44,46],[65,54,44,52],[66,6,45,4],[66,12,45,10,"isFocused"],[66,21,45,19],[66,24,45,22,"navigation"],[66,34,45,32],[66,36,45,34,"isFocused"],[66,45,45,43],[66,46,45,44],[66,47,45,45],[66,51,45,49],[66,55,45,53],[67,6,46,4],[67,10,46,8],[67,11,46,9,"isFocused"],[67,20,46,18],[67,22,46,20],[68,8,47,6],[68,15,47,13],[68,19,47,17],[69,6,48,4],[70,6,49,4],[70,12,49,10,"optionsFromListener"],[70,31,49,29],[70,34,49,32,"getOptionsFromListener"],[70,56,49,54],[70,57,49,55],[70,58,49,56],[71,6,50,4],[71,10,50,8,"optionsFromListener"],[71,29,50,27],[71,34,50,32],[71,38,50,36],[71,40,50,38],[72,8,51,6],[72,15,51,13,"optionsFromListener"],[72,34,51,32],[73,6,52,4],[74,6,53,4],[74,13,53,11,"optionsRef"],[74,23,53,21],[74,24,53,22,"current"],[74,31,53,29],[75,4,54,2],[75,5,54,3],[75,7,54,5],[75,8,54,6,"navigation"],[75,18,54,16],[75,20,54,18,"getOptionsFromListener"],[75,42,54,40],[75,43,54,41],[75,44,54,42],[76,4,55,2,"React"],[76,9,55,7],[76,10,55,8,"useEffect"],[76,19,55,17],[76,20,55,18],[76,26,55,24],[77,6,56,4],[77,13,56,11,"parentAddOptionsGetter"],[77,35,56,33],[77,38,56,36,"key"],[77,41,56,39],[77,43,56,41,"getCurrentOptions"],[77,60,56,58],[77,61,56,59],[78,4,57,2],[78,5,57,3],[78,7,57,5],[78,8,57,6,"getCurrentOptions"],[78,25,57,23],[78,27,57,25,"parentAddOptionsGetter"],[78,49,57,47],[78,51,57,49,"key"],[78,54,57,52],[78,55,57,53],[78,56,57,54],[79,4,58,2],[79,10,58,8,"addOptionsGetter"],[79,26,58,24],[79,29,58,27,"React"],[79,34,58,32],[79,35,58,33,"useCallback"],[79,46,58,44],[79,47,58,45],[79,48,58,46,"key"],[79,51,58,49],[79,53,58,51,"getter"],[79,59,58,57],[79,64,58,62],[80,6,59,4,"optionsGettersFromChildRef"],[80,32,59,30],[80,33,59,31,"current"],[80,40,59,38],[80,41,59,39,"key"],[80,44,59,42],[80,45,59,43],[80,48,59,46,"getter"],[80,54,59,52],[81,6,60,4,"optionsChangeListener"],[81,27,60,25],[81,28,60,26],[81,29,60,27],[82,6,61,4],[82,13,61,11],[82,19,61,17],[83,8,62,6],[84,8,63,6],[84,15,63,13,"optionsGettersFromChildRef"],[84,41,63,39],[84,42,63,40,"current"],[84,49,63,47],[84,50,63,48,"key"],[84,53,63,51],[84,54,63,52],[85,8,64,6,"optionsChangeListener"],[85,29,64,27],[85,30,64,28],[85,31,64,29],[86,6,65,4],[86,7,65,5],[87,4,66,2],[87,5,66,3],[87,7,66,5],[87,8,66,6,"optionsChangeListener"],[87,29,66,27],[87,30,66,28],[87,31,66,29],[88,4,67,2],[88,11,67,9],[89,6,68,4,"addOptionsGetter"],[89,22,68,20],[90,6,69,4,"getCurrentOptions"],[91,4,70,2],[91,5,70,3],[92,2,71,0],[93,0,71,1],[93,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"},"hasCjsExports":false},"type":"js/module"}]}