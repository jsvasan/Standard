{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../NativeModules/specs/NativeSourceCode","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0},"end":{"line":17,"column":65}}],"key":"4ZOSKrFUf26omYaWkWdbJuMeDN4=","exportNames":["*"]}},{"name":"./AssetSourceResolver","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":2},"end":{"line":20,"column":34}}],"key":"CQ9F7VqqS4RxvohJlSiKyPP484w=","exportNames":["*"]}},{"name":"./AssetUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":21,"column":20},"end":{"line":21,"column":43}}],"key":"xsSXqqOBilC1Jo1GNd8mq96Wd+g=","exportNames":["*"]}},{"name":"@react-native/assets-registry/registry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":22,"column":22},"end":{"line":22,"column":71}}],"key":"6/FNy5SyFHqM25fO9mKKuMVTi4I=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _NativeSourceCode = _interopRequireDefault(require(_dependencyMap[1], \"../NativeModules/specs/NativeSourceCode\"));\n  var AssetSourceResolver = require(_dependencyMap[2], \"./AssetSourceResolver\").default;\n  var _require = require(_dependencyMap[3], \"./AssetUtils\"),\n    pickScale = _require.pickScale;\n  var AssetRegistry = require(_dependencyMap[4], \"@react-native/assets-registry/registry\");\n  var _customSourceTransformers = [];\n  var _serverURL;\n  var _scriptURL;\n  var _sourceCodeScriptURL;\n  function getSourceCodeScriptURL() {\n    if (_sourceCodeScriptURL != null) {\n      return _sourceCodeScriptURL;\n    }\n    _sourceCodeScriptURL = _NativeSourceCode.default.getConstants().scriptURL;\n    return _sourceCodeScriptURL;\n  }\n  function getDevServerURL() {\n    if (_serverURL === undefined) {\n      var sourceCodeScriptURL = getSourceCodeScriptURL();\n      var match = sourceCodeScriptURL?.match(/^https?:\\/\\/.*?\\//);\n      if (match) {\n        _serverURL = match[0];\n      } else {\n        _serverURL = null;\n      }\n    }\n    return _serverURL;\n  }\n  function _coerceLocalScriptURL(scriptURL) {\n    var normalizedScriptURL = scriptURL;\n    if (normalizedScriptURL != null) {\n      if (normalizedScriptURL.startsWith('assets://')) {\n        return null;\n      }\n      normalizedScriptURL = normalizedScriptURL.substring(0, normalizedScriptURL.lastIndexOf('/') + 1);\n      if (!normalizedScriptURL.includes('://')) {\n        normalizedScriptURL = 'file://' + normalizedScriptURL;\n      }\n    }\n    return normalizedScriptURL;\n  }\n  function getScriptURL() {\n    if (_scriptURL === undefined) {\n      _scriptURL = _coerceLocalScriptURL(getSourceCodeScriptURL());\n    }\n    return _scriptURL;\n  }\n  function setCustomSourceTransformer(transformer) {\n    _customSourceTransformers = [transformer];\n  }\n  function addCustomSourceTransformer(transformer) {\n    _customSourceTransformers.push(transformer);\n  }\n  function resolveAssetSource(source) {\n    if (source == null || typeof source === 'object') {\n      return source;\n    }\n    var asset = AssetRegistry.getAssetByID(source);\n    if (!asset) {\n      return null;\n    }\n    var resolver = new AssetSourceResolver(getDevServerURL(), getScriptURL(), asset);\n    if (_customSourceTransformers) {\n      for (var customSourceTransformer of _customSourceTransformers) {\n        var transformedSource = customSourceTransformer(resolver);\n        if (transformedSource != null) {\n          return transformedSource;\n        }\n      }\n    }\n    return resolver.defaultAsset();\n  }\n  resolveAssetSource.pickScale = pickScale;\n  resolveAssetSource.setCustomSourceTransformer = setCustomSourceTransformer;\n  resolveAssetSource.addCustomSourceTransformer = addCustomSourceTransformer;\n  var _default = exports.default = resolveAssetSource;\n});","lineCount":83,"map":[[7,2,17,0],[7,6,17,0,"_NativeSourceCode"],[7,23,17,0],[7,26,17,0,"_interopRequireDefault"],[7,48,17,0],[7,49,17,0,"require"],[7,56,17,0],[7,57,17,0,"_dependencyMap"],[7,71,17,0],[8,2,19,0],[8,6,19,6,"AssetSourceResolver"],[8,25,19,47],[8,28,20,2,"require"],[8,35,20,9],[8,36,20,9,"_dependencyMap"],[8,50,20,9],[8,78,20,33],[8,79,20,34],[8,80,20,35,"default"],[8,87,20,42],[9,2,21,0],[9,6,21,0,"_require"],[9,14,21,0],[9,17,21,20,"require"],[9,24,21,27],[9,25,21,27,"_dependencyMap"],[9,39,21,27],[9,58,21,42],[9,59,21,43],[10,4,21,7,"pickScale"],[10,13,21,16],[10,16,21,16,"_require"],[10,24,21,16],[10,25,21,7,"pickScale"],[10,34,21,16],[11,2,22,0],[11,6,22,6,"AssetRegistry"],[11,19,22,19],[11,22,22,22,"require"],[11,29,22,29],[11,30,22,29,"_dependencyMap"],[11,44,22,29],[11,89,22,70],[11,90,22,71],[12,2,28,0],[12,6,28,4,"_customSourceTransformers"],[12,31,28,61],[12,34,28,64],[12,36,28,66],[13,2,29,0],[13,6,29,4,"_serverURL"],[13,16,29,23],[14,2,30,0],[14,6,30,4,"_scriptURL"],[14,16,30,23],[15,2,31,0],[15,6,31,4,"_sourceCodeScriptURL"],[15,26,31,33],[16,2,33,0],[16,11,33,9,"getSourceCodeScriptURL"],[16,33,33,31,"getSourceCodeScriptURL"],[16,34,33,31],[16,36,33,43],[17,4,34,2],[17,8,34,6,"_sourceCodeScriptURL"],[17,28,34,26],[17,32,34,30],[17,36,34,34],[17,38,34,36],[18,6,35,4],[18,13,35,11,"_sourceCodeScriptURL"],[18,33,35,31],[19,4,36,2],[20,4,38,2,"_sourceCodeScriptURL"],[20,24,38,22],[20,27,38,25,"SourceCode"],[20,52,38,35],[20,53,38,36,"getConstants"],[20,65,38,48],[20,66,38,49],[20,67,38,50],[20,68,38,51,"scriptURL"],[20,77,38,60],[21,4,39,2],[21,11,39,9,"_sourceCodeScriptURL"],[21,31,39,29],[22,2,40,0],[23,2,42,0],[23,11,42,9,"getDevServerURL"],[23,26,42,24,"getDevServerURL"],[23,27,42,24],[23,29,42,36],[24,4,43,2],[24,8,43,6,"_serverURL"],[24,18,43,16],[24,23,43,21,"undefined"],[24,32,43,30],[24,34,43,32],[25,6,44,4],[25,10,44,10,"sourceCodeScriptURL"],[25,29,44,29],[25,32,44,32,"getSourceCodeScriptURL"],[25,54,44,54],[25,55,44,55],[25,56,44,56],[26,6,45,4],[26,10,45,10,"match"],[26,15,45,15],[26,18,45,18,"sourceCodeScriptURL"],[26,37,45,37],[26,39,45,39,"match"],[26,44,45,44],[26,45,45,45],[26,64,45,64],[26,65,45,65],[27,6,46,4],[27,10,46,8,"match"],[27,15,46,13],[27,17,46,15],[28,8,48,6,"_serverURL"],[28,18,48,16],[28,21,48,19,"match"],[28,26,48,24],[28,27,48,25],[28,28,48,26],[28,29,48,27],[29,6,49,4],[29,7,49,5],[29,13,49,11],[30,8,51,6,"_serverURL"],[30,18,51,16],[30,21,51,19],[30,25,51,23],[31,6,52,4],[32,4,53,2],[33,4,54,2],[33,11,54,9,"_serverURL"],[33,21,54,19],[34,2,55,0],[35,2,57,0],[35,11,57,9,"_coerceLocalScriptURL"],[35,32,57,30,"_coerceLocalScriptURL"],[35,33,57,31,"scriptURL"],[35,42,57,49],[35,44,57,60],[36,4,58,2],[36,8,58,6,"normalizedScriptURL"],[36,27,58,25],[36,30,58,28,"scriptURL"],[36,39,58,37],[37,4,60,2],[37,8,60,6,"normalizedScriptURL"],[37,27,60,25],[37,31,60,29],[37,35,60,33],[37,37,60,35],[38,6,61,4],[38,10,61,8,"normalizedScriptURL"],[38,29,61,27],[38,30,61,28,"startsWith"],[38,40,61,38],[38,41,61,39],[38,52,61,50],[38,53,61,51],[38,55,61,53],[39,8,63,6],[39,15,63,13],[39,19,63,17],[40,6,64,4],[41,6,65,4,"normalizedScriptURL"],[41,25,65,23],[41,28,65,26,"normalizedScriptURL"],[41,47,65,45],[41,48,65,46,"substring"],[41,57,65,55],[41,58,66,6],[41,59,66,7],[41,61,67,6,"normalizedScriptURL"],[41,80,67,25],[41,81,67,26,"lastIndexOf"],[41,92,67,37],[41,93,67,38],[41,96,67,41],[41,97,67,42],[41,100,67,45],[41,101,68,4],[41,102,68,5],[42,6,69,4],[42,10,69,8],[42,11,69,9,"normalizedScriptURL"],[42,30,69,28],[42,31,69,29,"includes"],[42,39,69,37],[42,40,69,38],[42,45,69,43],[42,46,69,44],[42,48,69,46],[43,8,72,6,"normalizedScriptURL"],[43,27,72,25],[43,30,72,28],[43,39,72,37],[43,42,72,40,"normalizedScriptURL"],[43,61,72,59],[44,6,73,4],[45,4,74,2],[46,4,76,2],[46,11,76,9,"normalizedScriptURL"],[46,30,76,28],[47,2,77,0],[48,2,79,0],[48,11,79,9,"getScriptURL"],[48,23,79,21,"getScriptURL"],[48,24,79,21],[48,26,79,33],[49,4,80,2],[49,8,80,6,"_scriptURL"],[49,18,80,16],[49,23,80,21,"undefined"],[49,32,80,30],[49,34,80,32],[50,6,81,4,"_scriptURL"],[50,16,81,14],[50,19,81,17,"_coerceLocalScriptURL"],[50,40,81,38],[50,41,81,39,"getSourceCodeScriptURL"],[50,63,81,61],[50,64,81,62],[50,65,81,63],[50,66,81,64],[51,4,82,2],[52,4,83,2],[52,11,83,9,"_scriptURL"],[52,21,83,19],[53,2,84,0],[54,2,91,0],[54,11,91,9,"setCustomSourceTransformer"],[54,37,91,35,"setCustomSourceTransformer"],[54,38,92,2,"transformer"],[54,49,92,38],[54,51,93,8],[55,4,94,2,"_customSourceTransformers"],[55,29,94,27],[55,32,94,30],[55,33,94,31,"transformer"],[55,44,94,42],[55,45,94,43],[56,2,95,0],[57,2,101,0],[57,11,101,9,"addCustomSourceTransformer"],[57,37,101,35,"addCustomSourceTransformer"],[57,38,102,2,"transformer"],[57,49,102,38],[57,51,103,8],[58,4,104,2,"_customSourceTransformers"],[58,29,104,27],[58,30,104,28,"push"],[58,34,104,32],[58,35,104,33,"transformer"],[58,46,104,44],[58,47,104,45],[59,2,105,0],[60,2,111,0],[60,11,111,9,"resolveAssetSource"],[60,29,111,27,"resolveAssetSource"],[60,30,111,28,"source"],[60,36,111,48],[60,38,111,72],[61,4,112,2],[61,8,112,6,"source"],[61,14,112,12],[61,18,112,16],[61,22,112,20],[61,26,112,24],[61,33,112,31,"source"],[61,39,112,37],[61,44,112,42],[61,52,112,50],[61,54,112,52],[62,6,115,4],[62,13,115,11,"source"],[62,19,115,17],[63,4,116,2],[64,4,118,2],[64,8,118,8,"asset"],[64,13,118,13],[64,16,118,16,"AssetRegistry"],[64,29,118,29],[64,30,118,30,"getAssetByID"],[64,42,118,42],[64,43,118,43,"source"],[64,49,118,49],[64,50,118,50],[65,4,119,2],[65,8,119,6],[65,9,119,7,"asset"],[65,14,119,12],[65,16,119,14],[66,6,120,4],[66,13,120,11],[66,17,120,15],[67,4,121,2],[68,4,123,2],[68,8,123,8,"resolver"],[68,16,123,16],[68,19,123,19],[68,23,123,23,"AssetSourceResolver"],[68,42,123,42],[68,43,124,4,"getDevServerURL"],[68,58,124,19],[68,59,124,20],[68,60,124,21],[68,62,125,4,"getScriptURL"],[68,74,125,16],[68,75,125,17],[68,76,125,18],[68,78,126,4,"asset"],[68,83,127,2],[68,84,127,3],[69,4,130,2],[69,8,130,6,"_customSourceTransformers"],[69,33,130,31],[69,35,130,33],[70,6,131,4],[70,11,131,9],[70,15,131,15,"customSourceTransformer"],[70,38,131,38],[70,42,131,42,"_customSourceTransformers"],[70,67,131,67],[70,69,131,69],[71,8,132,6],[71,12,132,12,"transformedSource"],[71,29,132,29],[71,32,132,32,"customSourceTransformer"],[71,55,132,55],[71,56,132,56,"resolver"],[71,64,132,64],[71,65,132,65],[72,8,133,6],[72,12,133,10,"transformedSource"],[72,29,133,27],[72,33,133,31],[72,37,133,35],[72,39,133,37],[73,10,134,8],[73,17,134,15,"transformedSource"],[73,34,134,32],[74,8,135,6],[75,6,136,4],[76,4,137,2],[77,4,139,2],[77,11,139,9,"resolver"],[77,19,139,17],[77,20,139,18,"defaultAsset"],[77,32,139,30],[77,33,139,31],[77,34,139,32],[78,2,140,0],[79,2,142,0,"resolveAssetSource"],[79,20,142,18],[79,21,142,19,"pickScale"],[79,30,142,28],[79,33,142,31,"pickScale"],[79,42,142,40],[80,2,143,0,"resolveAssetSource"],[80,20,143,18],[80,21,143,19,"setCustomSourceTransformer"],[80,47,143,45],[80,50,143,48,"setCustomSourceTransformer"],[80,76,143,74],[81,2,144,0,"resolveAssetSource"],[81,20,144,18],[81,21,144,19,"addCustomSourceTransformer"],[81,47,144,45],[81,50,144,48,"addCustomSourceTransformer"],[81,76,144,74],[82,2,144,75],[82,6,144,75,"_default"],[82,14,144,75],[82,17,144,75,"exports"],[82,24,144,75],[82,25,144,75,"default"],[82,32,144,75],[82,35,145,15,"resolveAssetSource"],[82,53,145,33],[83,0,145,33],[83,3]],"functionMap":{"names":["<global>","getSourceCodeScriptURL","getDevServerURL","_coerceLocalScriptURL","getScriptURL","setCustomSourceTransformer","addCustomSourceTransformer","resolveAssetSource"],"mappings":"AAA;ACgC;CDO;AEE;CFa;AGE;CHoB;AIE;CJK;AKO;CLI;AMM;CNI;AOM;CP6B"}},"type":"js/module"}]}