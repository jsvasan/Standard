{"dependencies":[{"name":"fbjs/lib/invariant","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":235},"end":{"line":11,"column":43,"index":278}}],"key":"bGUa+dDG2WEhPiIlobT3urS95UE=","exportNames":["*"],"imports":1}},{"name":"./TaskQueue","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":279},"end":{"line":12,"column":36,"index":315}}],"key":"y8fo5kGfLl9pDv/jLZi56kPjKgk=","exportNames":["*"],"imports":1}},{"name":"../../vendor/react-native/vendor/emitter/EventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":316},"end":{"line":13,"column":81,"index":397}}],"key":"+VjCxNdZ3Bzkaby9l14xk05Z7OQ=","exportNames":["*"],"imports":1}},{"name":"../../modules/requestIdleCallback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":398},"end":{"line":14,"column":68,"index":466}}],"key":"l6f3pukAuOqlX5ODkv5xfu+gwXY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _fbjsLibInvariant = require(_dependencyMap[0], \"fbjs/lib/invariant\");\n  var invariant = _interopDefault(_fbjsLibInvariant);\n  var _TaskQueue = require(_dependencyMap[1], \"./TaskQueue\");\n  var TaskQueue = _interopDefault(_TaskQueue);\n  var _vendorReactNativeVendorEmitterEventEmitter = require(_dependencyMap[2], \"../../vendor/react-native/vendor/emitter/EventEmitter\");\n  var EventEmitter = _interopDefault(_vendorReactNativeVendorEmitterEventEmitter);\n  var _modulesRequestIdleCallback = require(_dependencyMap[3], \"../../modules/requestIdleCallback\");\n  var requestIdleCallback = _interopDefault(_modulesRequestIdleCallback);\n  /**\n   * Copyright (c) Nicolas Gallagher.\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */\n\n  var _emitter = new EventEmitter.default();\n  var InteractionManager = {\n    Events: {\n      interactionStart: 'interactionStart',\n      interactionComplete: 'interactionComplete'\n    },\n    /**\n     * Schedule a function to run after all interactions have completed.\n     */\n    runAfterInteractions(task) {\n      var tasks = [];\n      var promise = new Promise(resolve => {\n        _scheduleUpdate();\n        if (task) {\n          tasks.push(task);\n        }\n        tasks.push({\n          run: resolve,\n          name: 'resolve ' + (task && task.name || '?')\n        });\n        _taskQueue.enqueueTasks(tasks);\n      });\n      return {\n        then: promise.then.bind(promise),\n        done: promise.then.bind(promise),\n        cancel: () => {\n          _taskQueue.cancelTasks(tasks);\n        }\n      };\n    },\n    /**\n     * Notify manager that an interaction has started.\n     */\n    createInteractionHandle() {\n      _scheduleUpdate();\n      var handle = ++_inc;\n      _addInteractionSet.add(handle);\n      return handle;\n    },\n    /**\n     * Notify manager that an interaction has completed.\n     */\n    clearInteractionHandle(handle) {\n      (0, invariant.default)(!!handle, 'Must provide a handle to clear.');\n      _scheduleUpdate();\n      _addInteractionSet.delete(handle);\n      _deleteInteractionSet.add(handle);\n    },\n    addListener: _emitter.addListener.bind(_emitter),\n    /**\n     *\n     * @param deadline\n     */\n    setDeadline(deadline) {\n      _deadline = deadline;\n    }\n  };\n  var _interactionSet = new Set();\n  var _addInteractionSet = new Set();\n  var _deleteInteractionSet = new Set();\n  var _taskQueue = new TaskQueue.default({\n    onMoreTasks: _scheduleUpdate\n  });\n  var _nextUpdateHandle = 0;\n  var _inc = 0;\n  var _deadline = -1;\n\n  /**\n   * Schedule an asynchronous update to the interaction state.\n   */\n  function _scheduleUpdate() {\n    if (!_nextUpdateHandle) {\n      if (_deadline > 0) {\n        _nextUpdateHandle = setTimeout(_processUpdate);\n      } else {\n        _nextUpdateHandle = (0, requestIdleCallback.default)(_processUpdate);\n      }\n    }\n  }\n\n  /**\n   * Notify listeners, process queue, etc\n   */\n  function _processUpdate() {\n    _nextUpdateHandle = 0;\n    var interactionCount = _interactionSet.size;\n    _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n    _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n    var nextInteractionCount = _interactionSet.size;\n    if (interactionCount !== 0 && nextInteractionCount === 0) {\n      _emitter.emit(InteractionManager.Events.interactionComplete);\n    } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n      _emitter.emit(InteractionManager.Events.interactionStart);\n    }\n    if (nextInteractionCount === 0) {\n      // It seems that we can't know the running time of the current event loop,\n      // we can only calculate the running time of the current task queue.\n      var begin = Date.now();\n      while (_taskQueue.hasTasksToProcess()) {\n        _taskQueue.processNext();\n        if (_deadline > 0 && Date.now() - begin >= _deadline) {\n          _scheduleUpdate();\n          break;\n        }\n      }\n    }\n    _addInteractionSet.clear();\n    _deleteInteractionSet.clear();\n  }\n  var _default = InteractionManager;\n});","lineCount":146,"map":[[12,2,124,0,"Object"],[12,8,124,0],[12,9,124,0,"defineProperty"],[12,23,124,0],[12,24,124,0,"exports"],[12,31,124,0],[13,4,124,0,"enumerable"],[13,14,124,0],[14,4,124,0,"get"],[14,7,124,0],[14,18,124,0,"get"],[14,19,124,0],[15,6,124,0],[15,13,124,0,"_default"],[15,21,124,0],[16,4,124,0],[17,2,124,0],[18,2,11,0],[18,6,11,0,"_fbjsLibInvariant"],[18,23,11,0],[18,26,11,0,"require"],[18,33,11,0],[18,34,11,0,"_dependencyMap"],[18,48,11,0],[19,2,11,0],[19,6,11,0,"invariant"],[19,15,11,0],[19,18,11,0,"_interopDefault"],[19,33,11,0],[19,34,11,0,"_fbjsLibInvariant"],[19,51,11,0],[20,2,12,0],[20,6,12,0,"_TaskQueue"],[20,16,12,0],[20,19,12,0,"require"],[20,26,12,0],[20,27,12,0,"_dependencyMap"],[20,41,12,0],[21,2,12,0],[21,6,12,0,"TaskQueue"],[21,15,12,0],[21,18,12,0,"_interopDefault"],[21,33,12,0],[21,34,12,0,"_TaskQueue"],[21,44,12,0],[22,2,13,0],[22,6,13,0,"_vendorReactNativeVendorEmitterEventEmitter"],[22,49,13,0],[22,52,13,0,"require"],[22,59,13,0],[22,60,13,0,"_dependencyMap"],[22,74,13,0],[23,2,13,0],[23,6,13,0,"EventEmitter"],[23,18,13,0],[23,21,13,0,"_interopDefault"],[23,36,13,0],[23,37,13,0,"_vendorReactNativeVendorEmitterEventEmitter"],[23,80,13,0],[24,2,14,0],[24,6,14,0,"_modulesRequestIdleCallback"],[24,33,14,0],[24,36,14,0,"require"],[24,43,14,0],[24,44,14,0,"_dependencyMap"],[24,58,14,0],[25,2,14,0],[25,6,14,0,"requestIdleCallback"],[25,25,14,0],[25,28,14,0,"_interopDefault"],[25,43,14,0],[25,44,14,0,"_modulesRequestIdleCallback"],[25,71,14,0],[26,2,1,0],[27,0,2,0],[28,0,3,0],[29,0,4,0],[30,0,5,0],[31,0,6,0],[32,0,7,0],[33,0,8,0],[34,0,9,0],[36,2,15,0],[36,6,15,4,"_emitter"],[36,14,15,12],[36,17,15,15],[36,21,15,19,"EventEmitter"],[36,33,15,31],[36,34,15,31,"default"],[36,41,15,31],[36,42,15,32],[36,43,15,33],[37,2,16,0],[37,6,16,4,"InteractionManager"],[37,24,16,22],[37,27,16,25],[38,4,17,2,"Events"],[38,10,17,8],[38,12,17,10],[39,6,18,4,"interactionStart"],[39,22,18,20],[39,24,18,22],[39,42,18,40],[40,6,19,4,"interactionComplete"],[40,25,19,23],[40,27,19,25],[41,4,20,2],[41,5,20,3],[42,4,21,2],[43,0,22,0],[44,0,23,0],[45,4,24,2,"runAfterInteractions"],[45,24,24,22,"runAfterInteractions"],[45,25,24,23,"task"],[45,29,24,27],[45,31,24,29],[46,6,25,4],[46,10,25,8,"tasks"],[46,15,25,13],[46,18,25,16],[46,20,25,18],[47,6,26,4],[47,10,26,8,"promise"],[47,17,26,15],[47,20,26,18],[47,24,26,22,"Promise"],[47,31,26,29],[47,32,26,30,"resolve"],[47,39,26,37],[47,43,26,41],[48,8,27,6,"_scheduleUpdate"],[48,23,27,21],[48,24,27,22],[48,25,27,23],[49,8,28,6],[49,12,28,10,"task"],[49,16,28,14],[49,18,28,16],[50,10,29,8,"tasks"],[50,15,29,13],[50,16,29,14,"push"],[50,20,29,18],[50,21,29,19,"task"],[50,25,29,23],[50,26,29,24],[51,8,30,6],[52,8,31,6,"tasks"],[52,13,31,11],[52,14,31,12,"push"],[52,18,31,16],[52,19,31,17],[53,10,32,8,"run"],[53,13,32,11],[53,15,32,13,"resolve"],[53,22,32,20],[54,10,33,8,"name"],[54,14,33,12],[54,16,33,14],[54,26,33,24],[54,30,33,28,"task"],[54,34,33,32],[54,38,33,36,"task"],[54,42,33,40],[54,43,33,41,"name"],[54,47,33,45],[54,51,33,49],[54,54,33,52],[55,8,34,6],[55,9,34,7],[55,10,34,8],[56,8,35,6,"_taskQueue"],[56,18,35,16],[56,19,35,17,"enqueueTasks"],[56,31,35,29],[56,32,35,30,"tasks"],[56,37,35,35],[56,38,35,36],[57,6,36,4],[57,7,36,5],[57,8,36,6],[58,6,37,4],[58,13,37,11],[59,8,38,6,"then"],[59,12,38,10],[59,14,38,12,"promise"],[59,21,38,19],[59,22,38,20,"then"],[59,26,38,24],[59,27,38,25,"bind"],[59,31,38,29],[59,32,38,30,"promise"],[59,39,38,37],[59,40,38,38],[60,8,39,6,"done"],[60,12,39,10],[60,14,39,12,"promise"],[60,21,39,19],[60,22,39,20,"then"],[60,26,39,24],[60,27,39,25,"bind"],[60,31,39,29],[60,32,39,30,"promise"],[60,39,39,37],[60,40,39,38],[61,8,40,6,"cancel"],[61,14,40,12],[61,16,40,14,"cancel"],[61,17,40,14],[61,22,40,20],[62,10,41,8,"_taskQueue"],[62,20,41,18],[62,21,41,19,"cancelTasks"],[62,32,41,30],[62,33,41,31,"tasks"],[62,38,41,36],[62,39,41,37],[63,8,42,6],[64,6,43,4],[64,7,43,5],[65,4,44,2],[65,5,44,3],[66,4,45,2],[67,0,46,0],[68,0,47,0],[69,4,48,2,"createInteractionHandle"],[69,27,48,25,"createInteractionHandle"],[69,28,48,25],[69,30,48,28],[70,6,49,4,"_scheduleUpdate"],[70,21,49,19],[70,22,49,20],[70,23,49,21],[71,6,50,4],[71,10,50,8,"handle"],[71,16,50,14],[71,19,50,17],[71,21,50,19,"_inc"],[71,25,50,23],[72,6,51,4,"_addInteractionSet"],[72,24,51,22],[72,25,51,23,"add"],[72,28,51,26],[72,29,51,27,"handle"],[72,35,51,33],[72,36,51,34],[73,6,52,4],[73,13,52,11,"handle"],[73,19,52,17],[74,4,53,2],[74,5,53,3],[75,4,54,2],[76,0,55,0],[77,0,56,0],[78,4,57,2,"clearInteractionHandle"],[78,26,57,24,"clearInteractionHandle"],[78,27,57,25,"handle"],[78,33,57,31],[78,35,57,33],[79,6,58,4],[79,10,58,4,"invariant"],[79,19,58,13],[79,20,58,13,"default"],[79,27,58,13],[79,29,58,14],[79,30,58,15],[79,31,58,16,"handle"],[79,37,58,22],[79,39,58,24],[79,72,58,57],[79,73,58,58],[80,6,59,4,"_scheduleUpdate"],[80,21,59,19],[80,22,59,20],[80,23,59,21],[81,6,60,4,"_addInteractionSet"],[81,24,60,22],[81,25,60,23,"delete"],[81,31,60,29],[81,32,60,30,"handle"],[81,38,60,36],[81,39,60,37],[82,6,61,4,"_deleteInteractionSet"],[82,27,61,25],[82,28,61,26,"add"],[82,31,61,29],[82,32,61,30,"handle"],[82,38,61,36],[82,39,61,37],[83,4,62,2],[83,5,62,3],[84,4,63,2,"addListener"],[84,15,63,13],[84,17,63,15,"_emitter"],[84,25,63,23],[84,26,63,24,"addListener"],[84,37,63,35],[84,38,63,36,"bind"],[84,42,63,40],[84,43,63,41,"_emitter"],[84,51,63,49],[84,52,63,50],[85,4,64,2],[86,0,65,0],[87,0,66,0],[88,0,67,0],[89,4,68,2,"setDeadline"],[89,15,68,13,"setDeadline"],[89,16,68,14,"deadline"],[89,24,68,22],[89,26,68,24],[90,6,69,4,"_deadline"],[90,15,69,13],[90,18,69,16,"deadline"],[90,26,69,24],[91,4,70,2],[92,2,71,0],[92,3,71,1],[93,2,72,0],[93,6,72,4,"_interactionSet"],[93,21,72,19],[93,24,72,22],[93,28,72,26,"Set"],[93,31,72,29],[93,32,72,30],[93,33,72,31],[94,2,73,0],[94,6,73,4,"_addInteractionSet"],[94,24,73,22],[94,27,73,25],[94,31,73,29,"Set"],[94,34,73,32],[94,35,73,33],[94,36,73,34],[95,2,74,0],[95,6,74,4,"_deleteInteractionSet"],[95,27,74,25],[95,30,74,28],[95,34,74,32,"Set"],[95,37,74,35],[95,38,74,36],[95,39,74,37],[96,2,75,0],[96,6,75,4,"_taskQueue"],[96,16,75,14],[96,19,75,17],[96,23,75,21,"TaskQueue"],[96,32,75,30],[96,33,75,30,"default"],[96,40,75,30],[96,41,75,31],[97,4,76,2,"onMoreTasks"],[97,15,76,13],[97,17,76,15,"_scheduleUpdate"],[98,2,77,0],[98,3,77,1],[98,4,77,2],[99,2,78,0],[99,6,78,4,"_nextUpdateHandle"],[99,23,78,21],[99,26,78,24],[99,27,78,25],[100,2,79,0],[100,6,79,4,"_inc"],[100,10,79,8],[100,13,79,11],[100,14,79,12],[101,2,80,0],[101,6,80,4,"_deadline"],[101,15,80,13],[101,18,80,16],[101,19,80,17],[101,20,80,18],[103,2,82,0],[104,0,83,0],[105,0,84,0],[106,2,85,0],[106,11,85,9,"_scheduleUpdate"],[106,26,85,24,"_scheduleUpdate"],[106,27,85,24],[106,29,85,27],[107,4,86,2],[107,8,86,6],[107,9,86,7,"_nextUpdateHandle"],[107,26,86,24],[107,28,86,26],[108,6,87,4],[108,10,87,8,"_deadline"],[108,19,87,17],[108,22,87,20],[108,23,87,21],[108,25,87,23],[109,8,88,6,"_nextUpdateHandle"],[109,25,88,23],[109,28,88,26,"setTimeout"],[109,38,88,36],[109,39,88,37,"_processUpdate"],[109,53,88,51],[109,54,88,52],[110,6,89,4],[110,7,89,5],[110,13,89,11],[111,8,90,6,"_nextUpdateHandle"],[111,25,90,23],[111,28,90,26],[111,32,90,26,"requestIdleCallback"],[111,51,90,45],[111,52,90,45,"default"],[111,59,90,45],[111,61,90,46,"_processUpdate"],[111,75,90,60],[111,76,90,61],[112,6,91,4],[113,4,92,2],[114,2,93,0],[116,2,95,0],[117,0,96,0],[118,0,97,0],[119,2,98,0],[119,11,98,9,"_processUpdate"],[119,25,98,23,"_processUpdate"],[119,26,98,23],[119,28,98,26],[120,4,99,2,"_nextUpdateHandle"],[120,21,99,19],[120,24,99,22],[120,25,99,23],[121,4,100,2],[121,8,100,6,"interactionCount"],[121,24,100,22],[121,27,100,25,"_interactionSet"],[121,42,100,40],[121,43,100,41,"size"],[121,47,100,45],[122,4,101,2,"_addInteractionSet"],[122,22,101,20],[122,23,101,21,"forEach"],[122,30,101,28],[122,31,101,29,"handle"],[122,37,101,35],[122,41,101,39,"_interactionSet"],[122,56,101,54],[122,57,101,55,"add"],[122,60,101,58],[122,61,101,59,"handle"],[122,67,101,65],[122,68,101,66],[122,69,101,67],[123,4,102,2,"_deleteInteractionSet"],[123,25,102,23],[123,26,102,24,"forEach"],[123,33,102,31],[123,34,102,32,"handle"],[123,40,102,38],[123,44,102,42,"_interactionSet"],[123,59,102,57],[123,60,102,58,"delete"],[123,66,102,64],[123,67,102,65,"handle"],[123,73,102,71],[123,74,102,72],[123,75,102,73],[124,4,103,2],[124,8,103,6,"nextInteractionCount"],[124,28,103,26],[124,31,103,29,"_interactionSet"],[124,46,103,44],[124,47,103,45,"size"],[124,51,103,49],[125,4,104,2],[125,8,104,6,"interactionCount"],[125,24,104,22],[125,29,104,27],[125,30,104,28],[125,34,104,32,"nextInteractionCount"],[125,54,104,52],[125,59,104,57],[125,60,104,58],[125,62,104,60],[126,6,105,4,"_emitter"],[126,14,105,12],[126,15,105,13,"emit"],[126,19,105,17],[126,20,105,18,"InteractionManager"],[126,38,105,36],[126,39,105,37,"Events"],[126,45,105,43],[126,46,105,44,"interactionComplete"],[126,65,105,63],[126,66,105,64],[127,4,106,2],[127,5,106,3],[127,11,106,9],[127,15,106,13,"interactionCount"],[127,31,106,29],[127,36,106,34],[127,37,106,35],[127,41,106,39,"nextInteractionCount"],[127,61,106,59],[127,66,106,64],[127,67,106,65],[127,69,106,67],[128,6,107,4,"_emitter"],[128,14,107,12],[128,15,107,13,"emit"],[128,19,107,17],[128,20,107,18,"InteractionManager"],[128,38,107,36],[128,39,107,37,"Events"],[128,45,107,43],[128,46,107,44,"interactionStart"],[128,62,107,60],[128,63,107,61],[129,4,108,2],[130,4,109,2],[130,8,109,6,"nextInteractionCount"],[130,28,109,26],[130,33,109,31],[130,34,109,32],[130,36,109,34],[131,6,110,4],[132,6,111,4],[133,6,112,4],[133,10,112,8,"begin"],[133,15,112,13],[133,18,112,16,"Date"],[133,22,112,20],[133,23,112,21,"now"],[133,26,112,24],[133,27,112,25],[133,28,112,26],[134,6,113,4],[134,13,113,11,"_taskQueue"],[134,23,113,21],[134,24,113,22,"hasTasksToProcess"],[134,41,113,39],[134,42,113,40],[134,43,113,41],[134,45,113,43],[135,8,114,6,"_taskQueue"],[135,18,114,16],[135,19,114,17,"processNext"],[135,30,114,28],[135,31,114,29],[135,32,114,30],[136,8,115,6],[136,12,115,10,"_deadline"],[136,21,115,19],[136,24,115,22],[136,25,115,23],[136,29,115,27,"Date"],[136,33,115,31],[136,34,115,32,"now"],[136,37,115,35],[136,38,115,36],[136,39,115,37],[136,42,115,40,"begin"],[136,47,115,45],[136,51,115,49,"_deadline"],[136,60,115,58],[136,62,115,60],[137,10,116,8,"_scheduleUpdate"],[137,25,116,23],[137,26,116,24],[137,27,116,25],[138,10,117,8],[139,8,118,6],[140,6,119,4],[141,4,120,2],[142,4,121,2,"_addInteractionSet"],[142,22,121,20],[142,23,121,21,"clear"],[142,28,121,26],[142,29,121,27],[142,30,121,28],[143,4,122,2,"_deleteInteractionSet"],[143,25,122,23],[143,26,122,24,"clear"],[143,31,122,29],[143,32,122,30],[143,33,122,31],[144,2,123,0],[145,2,124,0],[145,6,124,0,"_default"],[145,14,124,0],[145,17,124,15,"InteractionManager"],[145,35,124,33],[146,0,124,34],[146,3]],"functionMap":{"names":["<global>","InteractionManager.runAfterInteractions","Promise$argument_0","cancel","InteractionManager.createInteractionHandle","InteractionManager.clearInteractionHandle","InteractionManager.setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;ECuB;8BCE;KDU;cEI;OFE;GDE;EII;GJK;EKI;GLK;EMM;GNE;AOe;CPQ;AQK;6BCG,qCD;gCEC,wCF;CRqB"},"hasCjsExports":false},"type":"js/module"}]}