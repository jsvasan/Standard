{"dependencies":[{"name":"../addEventListener","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":199},"end":{"line":10,"column":55,"index":254}}],"key":"4xvCwHsxCKw+bkXrhCHsTztm4zw=","exportNames":["*"],"imports":1}},{"name":"../useLayoutEffect","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":255},"end":{"line":11,"column":49,"index":304}}],"key":"ZNO83OGsE7bbgM7VHgfD880OI4U=","exportNames":["*"],"imports":1}},{"name":"../useStable","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":305},"end":{"line":12,"column":37,"index":342}}],"key":"XW9XStik11xeI23ft/PR9tQzPOs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useEvent;\n    }\n  });\n  var _addEventListener = require(_dependencyMap[0], \"../addEventListener\");\n  var _useLayoutEffect = require(_dependencyMap[1], \"../useLayoutEffect\");\n  var useLayoutEffect = _interopDefault(_useLayoutEffect);\n  var _useStable = require(_dependencyMap[2], \"../useStable\");\n  var useStable = _interopDefault(_useStable);\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */\n\n  /**\n   * This can be used with any event type include custom events.\n   *\n   * const click = useEvent('click', options);\n   * useEffect(() => {\n   *   click.setListener(target, onClick);\n   *   return () => click.clear();\n   * }).\n   */\n  function useEvent(eventType, options) {\n    var targetListeners = (0, useStable.default)(() => new Map());\n    var addListener = (0, useStable.default)(() => {\n      return (target, callback) => {\n        var removeTargetListener = targetListeners.get(target);\n        if (removeTargetListener != null) {\n          removeTargetListener();\n        }\n        if (callback == null) {\n          targetListeners.delete(target);\n          callback = () => {};\n        }\n        var removeEventListener = (0, _addEventListener.addEventListener)(target, eventType, callback, options);\n        targetListeners.set(target, removeEventListener);\n        return removeEventListener;\n      };\n    });\n    (0, useLayoutEffect.default)(() => {\n      return () => {\n        targetListeners.forEach(removeListener => {\n          removeListener();\n        });\n        targetListeners.clear();\n      };\n    }, [targetListeners]);\n    return addListener;\n  }\n});","lineCount":68,"map":[[12,2,22,15,"Object"],[12,8,22,15],[12,9,22,15,"defineProperty"],[12,23,22,15],[12,24,22,15,"exports"],[12,31,22,15],[13,4,22,15,"enumerable"],[13,14,22,15],[14,4,22,15,"get"],[14,7,22,15],[14,18,22,15,"get"],[14,19,22,15],[15,6,22,15],[15,13,22,15,"useEvent"],[15,21,22,15],[16,4,22,15],[17,2,22,15],[18,2,10,0],[18,6,10,0,"_addEventListener"],[18,23,10,0],[18,26,10,0,"require"],[18,33,10,0],[18,34,10,0,"_dependencyMap"],[18,48,10,0],[19,2,11,0],[19,6,11,0,"_useLayoutEffect"],[19,22,11,0],[19,25,11,0,"require"],[19,32,11,0],[19,33,11,0,"_dependencyMap"],[19,47,11,0],[20,2,11,0],[20,6,11,0,"useLayoutEffect"],[20,21,11,0],[20,24,11,0,"_interopDefault"],[20,39,11,0],[20,40,11,0,"_useLayoutEffect"],[20,56,11,0],[21,2,12,0],[21,6,12,0,"_useStable"],[21,16,12,0],[21,19,12,0,"require"],[21,26,12,0],[21,27,12,0,"_dependencyMap"],[21,41,12,0],[22,2,12,0],[22,6,12,0,"useStable"],[22,15,12,0],[22,18,12,0,"_interopDefault"],[22,33,12,0],[22,34,12,0,"_useStable"],[22,44,12,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[28,0,6,0],[29,0,7,0],[30,0,8,0],[32,2,13,0],[33,0,14,0],[34,0,15,0],[35,0,16,0],[36,0,17,0],[37,0,18,0],[38,0,19,0],[39,0,20,0],[40,0,21,0],[41,2,22,15],[41,11,22,24,"useEvent"],[41,19,22,32,"useEvent"],[41,20,22,33,"eventType"],[41,29,22,42],[41,31,22,44,"options"],[41,38,22,51],[41,40,22,53],[42,4,23,2],[42,8,23,6,"targetListeners"],[42,23,23,21],[42,26,23,24],[42,30,23,24,"useStable"],[42,39,23,33],[42,40,23,33,"default"],[42,47,23,33],[42,49,23,34],[42,55,23,40],[42,59,23,44,"Map"],[42,62,23,47],[42,63,23,48],[42,64,23,49],[42,65,23,50],[43,4,24,2],[43,8,24,6,"addListener"],[43,19,24,17],[43,22,24,20],[43,26,24,20,"useStable"],[43,35,24,29],[43,36,24,29,"default"],[43,43,24,29],[43,45,24,30],[43,51,24,36],[44,6,25,4],[44,13,25,11],[44,14,25,12,"target"],[44,20,25,18],[44,22,25,20,"callback"],[44,30,25,28],[44,35,25,33],[45,8,26,6],[45,12,26,10,"removeTargetListener"],[45,32,26,30],[45,35,26,33,"targetListeners"],[45,50,26,48],[45,51,26,49,"get"],[45,54,26,52],[45,55,26,53,"target"],[45,61,26,59],[45,62,26,60],[46,8,27,6],[46,12,27,10,"removeTargetListener"],[46,32,27,30],[46,36,27,34],[46,40,27,38],[46,42,27,40],[47,10,28,8,"removeTargetListener"],[47,30,28,28],[47,31,28,29],[47,32,28,30],[48,8,29,6],[49,8,30,6],[49,12,30,10,"callback"],[49,20,30,18],[49,24,30,22],[49,28,30,26],[49,30,30,28],[50,10,31,8,"targetListeners"],[50,25,31,23],[50,26,31,24,"delete"],[50,32,31,30],[50,33,31,31,"target"],[50,39,31,37],[50,40,31,38],[51,10,32,8,"callback"],[51,18,32,16],[51,21,32,19,"callback"],[51,22,32,19],[51,27,32,25],[51,28,32,26],[51,29,32,27],[52,8,33,6],[53,8,34,6],[53,12,34,10,"removeEventListener"],[53,31,34,29],[53,34,34,32],[53,38,34,32,"addEventListener"],[53,55,34,48],[53,56,34,48,"addEventListener"],[53,72,34,48],[53,74,34,49,"target"],[53,80,34,55],[53,82,34,57,"eventType"],[53,91,34,66],[53,93,34,68,"callback"],[53,101,34,76],[53,103,34,78,"options"],[53,110,34,85],[53,111,34,86],[54,8,35,6,"targetListeners"],[54,23,35,21],[54,24,35,22,"set"],[54,27,35,25],[54,28,35,26,"target"],[54,34,35,32],[54,36,35,34,"removeEventListener"],[54,55,35,53],[54,56,35,54],[55,8,36,6],[55,15,36,13,"removeEventListener"],[55,34,36,32],[56,6,37,4],[56,7,37,5],[57,4,38,2],[57,5,38,3],[57,6,38,4],[58,4,39,2],[58,8,39,2,"useLayoutEffect"],[58,23,39,17],[58,24,39,17,"default"],[58,31,39,17],[58,33,39,18],[58,39,39,24],[59,6,40,4],[59,13,40,11],[59,19,40,17],[60,8,41,6,"targetListeners"],[60,23,41,21],[60,24,41,22,"forEach"],[60,31,41,29],[60,32,41,30,"removeListener"],[60,46,41,44],[60,50,41,48],[61,10,42,8,"removeListener"],[61,24,42,22],[61,25,42,23],[61,26,42,24],[62,8,43,6],[62,9,43,7],[62,10,43,8],[63,8,44,6,"targetListeners"],[63,23,44,21],[63,24,44,22,"clear"],[63,29,44,27],[63,30,44,28],[63,31,44,29],[64,6,45,4],[64,7,45,5],[65,4,46,2],[65,5,46,3],[65,7,46,5],[65,8,46,6,"targetListeners"],[65,23,46,21],[65,24,46,22],[65,25,46,23],[66,4,47,2],[66,11,47,9,"addListener"],[66,22,47,20],[67,2,48,0],[68,0,48,1],[68,3]],"functionMap":{"names":["<global>","useEvent","useStable$argument_0","<anonymous>","callback","useLayoutEffect$argument_0","targetListeners.forEach$argument_0"],"mappings":"AAA;eCqB;kCCC,eD;8BCC;WCC;mBCO,QD;KDK;GDC;kBIC;WFC;8BGC;OHE;KEE;GJC"},"hasCjsExports":false},"type":"js/module"}]}